(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function We(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}We.compatConfig={MODE:3};function xt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}xt.compatConfig={MODE:3};function pt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}pt.compatConfig={MODE:3};function gt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}gt.compatConfig={MODE:3};function yt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}yt.compatConfig={MODE:3};function ht(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ht.compatConfig={MODE:3};function kt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}kt.compatConfig={MODE:3};function qt(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Mn(t){return n=>s.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Dn=(t,n,o)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(Mn(t))}catch{a=r.map(qt(n))}else a=r.map(qt(n));const c=a.slice(0,o),i=a.slice(o+1,a.length);return[a[o]].concat(...i).concat(...c)},bt=(t,n)=>{const o=[];for(let r=+t[0];r<=+t[1];r++)o.push({value:+r,text:`${r}`});return n?o.reverse():o},Qt=(t,n,o)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(c=>{const i=c<10?`0${c}`:c;return new Date(`2017-${i}-01T00:00:00+00:00`)});if(t!==null)try{const c=o==="long"?"MMMM":"MMM";return r.map((i,p)=>{const w=s.format(i,c,{locale:t});return{text:w.charAt(0).toUpperCase()+w.substring(1),value:p}})}catch{}const a=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return r.map((c,i)=>{const p=a.format(c);return{text:p.charAt(0).toUpperCase()+p.substring(1),value:i}})},Sn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ge=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},Cn=t=>Object.assign({type:"dot"},t),Gt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,wt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},pe=t=>t,Xt=t=>t===0?t:!t||isNaN(+t)?null:+t,Jt=t=>t===null,Zt=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Bn=t=>{const n=[],o=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(o(a))}return n},Qe=(t,n,o)=>{const r=o!=null,a=n!=null;if(!r&&!a)return!1;const c=+o,i=+n;return r&&a?+t>c||+t<i:r?+t>c:a?+t<i:!1},Ue=(t,n)=>Bn(t).map(o=>o.map(r=>{const{active:a,disabled:c,isBetween:i,highlighted:p}=n(r);return{...r,active:a,disabled:c,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:c,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:c&&a,dp__cell_in_between:i,"dp--highlighted":p}}})),Re=(t,n,o=!1)=>{t&&n.allowStopPropagation&&(o&&t.stopImmediatePropagation(),t.stopPropagation())},$n=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function An(t,n){let o=[...document.querySelectorAll($n())];o=o.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=o.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=o.length))return o[r+(n?-1:1)]}const Tn=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),vt=t=>s.format(t,"dd-MM-yyyy"),Mt=t=>Array.isArray(t),at=(t,n)=>n.get(vt(t)),Pn=(t,n)=>t?n?n instanceof Map?!!at(t,n):n(Y(t)):!1:!0,Ft=(t,n,o,r,a)=>{const c=s.parse(t,n.slice(0,t.length),new Date);return s.isValid(c)&&s.isDate(c)?r||a?c:s.set(c,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},Rn=(t,n,o,r,a)=>{const c=Array.isArray(o)?o[0]:o;if(typeof n=="string")return Ft(t,n,c,r,a);if(Array.isArray(n)){let i=null;for(const p of n)if(i=Ft(t,p,c,r,a),i)break;return i}return typeof n=="function"?n(t):null},Y=t=>t?new Date(t):new Date,Nn=(t,n,o)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0"),i=t.getHours().toString().padStart(2,"0"),p=t.getMinutes().toString().padStart(2,"0"),w=o?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${c}T${i}:${p}:${w}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},ke=t=>{let n=Y(JSON.parse(JSON.stringify(t)));return n=s.setHours(n,0),n=s.setMinutes(n,0),n=s.setSeconds(n,0),n=s.setMilliseconds(n,0),n},Ne=(t,n,o,r)=>{let a=t?Y(t):Y();return(n||n===0)&&(a=s.setHours(a,+n)),(o||o===0)&&(a=s.setMinutes(a,+o)),(r||r===0)&&(a=s.setSeconds(a,+r)),s.setMilliseconds(a,0)},fe=(t,n)=>!t||!n?!1:s.isBefore(ke(t),ke(n)),ie=(t,n)=>!t||!n?!1:s.isEqual(ke(t),ke(n)),me=(t,n)=>!t||!n?!1:s.isAfter(ke(t),ke(n)),rt=(t,n,o)=>t!=null&&t[0]&&(t!=null&&t[1])?me(o,t[0])&&fe(o,t[1]):t!=null&&t[0]&&n?me(o,t[0])&&fe(o,n)||fe(o,t[0])&&me(o,n):!1,Me=t=>{const n=s.set(new Date(t),{date:1});return ke(n)},Dt=(t,n,o)=>n&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,o]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Oe=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),en=(t,n)=>{if(n){const o=s.getYear(Y(n));if(o>t)return 12;if(o===t)return s.getMonth(Y(n))}},tn=(t,n)=>{if(n){const o=s.getYear(Y(n));return o<t?-1:o===t?s.getMonth(Y(n)):void 0}},je=t=>{if(t)return s.getYear(Y(t))},nn=(t,n)=>{const o=me(t,n)?n:t,r=me(n,t)?n:t;return s.eachDayOfInterval({start:o,end:r})},En=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Ae=(t,n)=>{const o=s.startOfWeek(t,{weekStartsOn:+n}),r=s.endOfWeek(t,{weekStartsOn:+n});return[o,r]},an=(t,n)=>{const o={hours:s.getHours(Y()),minutes:s.getMinutes(Y()),seconds:n?s.getSeconds(Y()):0};return Object.assign(o,t)},Ee=(t,n,o)=>[s.set(Y(t),{date:1}),s.set(Y(),{month:n,year:o,date:1})],Te=(t,n,o)=>{let r=t?Y(t):Y();return(n||n===0)&&(r=s.setMonth(r,n)),o&&(r=s.setYear(r,o)),r},rn=(t,n,o,r,a)=>{if(!r||a&&!n||!a&&!o)return!1;const c=a?s.addMonths(t,1):s.subMonths(t,1),i=[s.getMonth(c),s.getYear(c)];return a?!Vn(...i,n):!_n(...i,o)},_n=(t,n,o)=>fe(...Ee(o,t,n))||ie(...Ee(o,t,n)),Vn=(t,n,o)=>me(...Ee(o,t,n))||ie(...Ee(o,t,n)),ln=(t,n,o,r,a,c,i)=>{if(typeof n=="function"&&!i)return n(t);const p=o?{locale:o}:void 0;return Array.isArray(t)?`${s.format(t[0],c,p)}${a&&!t[1]?"":r}${t[1]?s.format(t[1],c,p):""}`:s.format(t,c,p)},xe=t=>{if(t)return null;throw new Error(wt.prop("partial-range"))},lt=(t,n)=>{if(n)return t();throw new Error(wt.prop("range"))},St=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,Yn=(t,n)=>s.set(n??Y(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Ct=(t,n,o,r)=>{if(!t)return!0;if(r){const a=o==="max"?s.isBefore(t,n):s.isAfter(t,n),c={seconds:0,milliseconds:0};return a||s.isEqual(s.set(t,c),s.set(n,c))}return o==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Bt=(t,n,o)=>t?Yn(t,n):Y(o??n),on=(t,n,o,r,a)=>{if(Array.isArray(r)){const i=Bt(t,r[0],n),p=Bt(t,r[1],n);return Ct(r[0],i,o,!!n)&&Ct(r[1],p,o,!!n)&&a}const c=Bt(t,r,n);return Ct(r,c,o,!!n)&&a},$t=t=>s.set(Y(),Oe(t)),On=(t,n)=>t instanceof Map?Array.from(t.values()).filter(o=>s.getYear(Y(o))===n).map(o=>s.getMonth(o)):[],sn=(t,n,o)=>typeof t=="function"?t({month:n,year:o}):!!t.months.find(r=>r.month===n&&r.year===o),At=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Ge=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),un=()=>{const t=r=>{Ge.menuFocused=r},n=r=>{Ge.shiftKeyInMenu!==r&&(Ge.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:Ge.shiftKeyInMenu,menuFocused:Ge.menuFocused})),setMenuFocused:t,setShiftKey:n}},ce=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Tt=e.ref(null),ot=e.ref(!1),Pt=e.ref(!1),Rt=e.ref(!1),Nt=e.ref(!1),he=e.ref(0),ye=e.ref(0),_e=()=>{const t=e.computed(()=>ot.value?[...ce.selectionGrid,ce.actionRow].filter(T=>T.length):Pt.value?[...ce.timePicker[0],...ce.timePicker[1],Nt.value?[]:[Tt.value],ce.actionRow].filter(T=>T.length):Rt.value?[...ce.monthPicker,ce.actionRow]:[ce.monthYear,...ce.calendar,ce.time,ce.actionRow].filter(T=>T.length)),n=T=>{he.value=T?he.value+1:he.value-1;let L=null;t.value[ye.value]&&(L=t.value[ye.value][he.value]),L||(he.value=T?he.value-1:he.value+1)},o=T=>{if(ye.value===0&&!T||ye.value===t.value.length&&T)return;ye.value=T?ye.value+1:ye.value-1,t.value[ye.value]?t.value[ye.value]&&!t.value[ye.value][he.value]&&he.value!==0&&(he.value=t.value[ye.value].length-1):ye.value=T?ye.value-1:ye.value+1},r=T=>{let L=null;t.value[ye.value]&&(L=t.value[ye.value][he.value]),L?L.focus({preventScroll:!ot.value}):he.value=T?he.value-1:he.value+1},a=()=>{n(!0),r(!0)},c=()=>{n(!1),r(!1)},i=()=>{o(!1),r(!0)},p=()=>{o(!0),r(!0)},w=(T,L)=>{ce[L]=T},N=(T,L)=>{ce[L]=T},k=()=>{he.value=0,ye.value=0};return{buildMatrix:w,buildMultiLevelMatrix:N,setTimePickerBackRef:T=>{Tt.value=T},setSelectionGrid:T=>{ot.value=T,k(),T||(ce.selectionGrid=[])},setTimePicker:(T,L=!1)=>{Pt.value=T,Nt.value=L,k(),T||(ce.timePicker[0]=[],ce.timePicker[1]=[])},setTimePickerElements:(T,L=0)=>{ce.timePicker[L]=T},arrowRight:a,arrowLeft:c,arrowUp:i,arrowDown:p,clearArrowNav:()=>{ce.monthYear=[],ce.calendar=[],ce.time=[],ce.actionRow=[],ce.selectionGrid=[],ce.timePicker[0]=[],ce.timePicker[1]=[],ot.value=!1,Pt.value=!1,Nt.value=!1,Rt.value=!1,k(),Tt.value=null},setMonthPicker:T=>{Rt.value=T,k()},refSets:ce}},Ve=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),cn=(t,n)=>{const o=Et(t,n);return o||Y()},In=(t,n)=>n.dateInTz?Ve(new Date(t),n.dateInTz):Y(t),Et=(t,n)=>{if(!t)return null;if(!n)return Y(t);const o=Y(t);return n.exactMatch?In(t,n):Ve(o,n.timezone)},dn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),zn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),fn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Ln=t=>{const n=typeof t=="object"&&t,o={static:!0,solo:!1};if(!t)return{...o,count:fn(!1)};const r=n?t:{},a=n?r.count??!0:t,c=fn(a);return Object.assign(o,r,{count:c})},Kn=(t,n,o)=>t||(typeof o=="string"?o:n),Hn=t=>typeof t=="boolean"?t?dn({}):!1:dn(t),Wn=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},Un=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),jn=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),xn=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},qn=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0},...t??{}}),Qn=t=>{const n={dates:Array.isArray(t)?t.map(o=>Y(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},Gn=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},Xn=(t,n)=>{const o={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...o,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},Jn=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone}:{timezone:void 0,exactMatch:!1,emitTimezone:n},_t=(t,n)=>new Map(t.map(o=>{const r=cn(o,n);return[vt(r),r]})),Zn=(t,n)=>t.length?new Map(t.map(o=>{const r=cn(o.date,n);return[vt(r),o]})):null,Fn=(t,n,o,r,a,c,i)=>({minDate:Et(t,i),maxDate:Et(n,i),disabledDates:Mt(o)?_t(o,i):o,allowedDates:Mt(r)?_t(r,i):null,highlight:typeof a=="object"&&Mt(a==null?void 0:a.dates)?_t(a.dates,i):a,markers:Zn(c,i)}),de=t=>{const n=()=>{const B=t.enableSeconds?":ss":"";return t.is24?`HH:mm${B}`:`hh:mm${B} aa`},o=()=>{var B;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((B=x.value)==null?void 0:B.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=B=>an(B,t.enableSeconds),a=()=>E.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,c=e.computed(()=>Ln(t.multiCalendars)),i=e.computed(()=>a()),p=e.computed(()=>zn(t.ariaLabels)),w=e.computed(()=>Un(t.filters)),N=e.computed(()=>Hn(t.transitions)),k=e.computed(()=>jn(t.actionRow)),C=e.computed(()=>Kn(t.previewFormat,t.format,o())),V=e.computed(()=>Wn(t.textInput)),R=e.computed(()=>xn(t.inline)),K=e.computed(()=>qn(t.config)),y=e.computed(()=>Qn(t.highlight)),x=e.computed(()=>Gn(t.weekNumbers)),T=e.computed(()=>Jn(t.timezone,t.emitTimezone)),L=e.computed(()=>Fn(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,y.value,t.markers,T.value)),E=e.computed(()=>Xn(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:N,defaultedMultiCalendars:c,defaultedStartTime:i,defaultedAriaLabels:p,defaultedFilters:w,defaultedActionRow:k,defaultedPreviewFormat:C,defaultedTextInput:V,defaultedInline:R,defaultedConfig:K,defaultedHighlight:y,defaultedWeekNumbers:x,defaultedRange:E,propDates:L,defaultedTz:T,getDefaultPattern:o,getDefaultStartTime:a}},ea=(t,n,o)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:c,defaultedTz:i,getDefaultPattern:p}=de(n),w=e.ref(""),N=e.toRef(n,"format");e.watch(r,()=>{t("internal-model-change",r.value)},{deep:!0}),e.watch(N,()=>{A()});const k=(l,M,H=!1)=>ln(l,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,M??p(),H),C=l=>l?n.modelType?d(l):{hours:s.getHours(l),minutes:s.getMinutes(l),seconds:n.enableSeconds?s.getSeconds(l):0}:null,V=l=>n.modelType?d(l):{month:s.getMonth(l),year:s.getYear(l)},R=l=>Array.isArray(l)?n.multiDates?l.map(M=>K(M,s.setYear(Y(),M))):lt(()=>[s.setYear(Y(),l[0]),l[1]?s.setYear(Y(),l[1]):xe(c.value.partialRange)],c.value.enabled):s.setYear(Y(),+l),K=(l,M)=>(typeof l=="string"||typeof l=="number")&&n.modelType?J(l):M,y=l=>Array.isArray(l)?[K(l[0],Ne(null,+l[0].hours,+l[0].minutes,l[0].seconds)),K(l[1],Ne(null,+l[1].hours,+l[1].minutes,l[1].seconds))]:K(l,Ne(null,l.hours,l.minutes,l.seconds)),x=l=>{const M=s.set(Y(),{date:1});return Array.isArray(l)?n.multiDates?l.map(H=>K(H,Te(M,+H.month,+H.year))):lt(()=>[K(l[0],Te(M,+l[0].month,+l[0].year)),K(l[1],l[1]?Te(M,+l[1].month,+l[1].year):xe(c.value.partialRange))],c.value.enabled):K(l,Te(M,+l.month,+l.year))},T=l=>{if(Array.isArray(l))return l.map(M=>J(M));throw new Error(wt.dateArr("multi-dates"))},L=l=>{if(Array.isArray(l)&&c.value.enabled){const M=l[0],H=l[1];return[Y(Array.isArray(M)?M[0]:null),Y(Array.isArray(H)?H[0]:null)]}return Y(l[0])},E=l=>n.modelAuto?Array.isArray(l)?[J(l[0]),J(l[1])]:n.autoApply?[J(l)]:[J(l),null]:Array.isArray(l)?lt(()=>l[1]?[J(l[0]),l[1]?J(l[1]):xe(c.value.partialRange)]:[J(l[0])],c.value.enabled):J(l),B=()=>{Array.isArray(r.value)&&c.value.enabled&&r.value.length===1&&r.value.push(xe(c.value.partialRange))},D=()=>{const l=r.value;return[d(l[0]),l[1]?d(l[1]):xe(c.value.partialRange)]},j=()=>r.value[1]?D():d(pe(r.value[0])),Z=()=>(r.value||[]).map(l=>d(l)),S=()=>(B(),n.modelAuto?j():n.multiDates?Z():Array.isArray(r.value)?lt(()=>D(),c.value.enabled):d(pe(r.value))),te=l=>!l||Array.isArray(l)&&!l.length?null:n.timePicker?y(pe(l)):n.monthPicker?x(pe(l)):n.yearPicker?R(pe(l)):n.multiDates?T(pe(l)):n.weekPicker?L(pe(l)):E(pe(l)),ae=l=>{const M=te(l);St(pe(M))?(r.value=pe(M),A()):(r.value=null,w.value="")},v=()=>{const l=M=>s.format(M,a.value.format);return`${l(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?l(r.value[1]):""}`},z=()=>o.value&&r.value?Array.isArray(r.value)?v():s.format(r.value,a.value.format):k(r.value),_=()=>r.value?n.multiDates?r.value.map(l=>k(l)).join("; "):a.value.enabled&&typeof a.value.format=="string"?z():k(r.value):"",A=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?w.value=_():w.value=n.format(r.value)},J=l=>{if(n.utc){const M=new Date(l);return n.utc==="preserve"?new Date(M.getTime()+M.getTimezoneOffset()*6e4):M}return n.modelType?n.modelType==="date"||n.modelType==="timestamp"?new Date(l):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?s.parse(l,p(),new Date):s.parse(l,n.modelType,new Date):new Date(l)},d=l=>l?n.utc?Nn(l,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+l:n.modelType==="format"&&(typeof n.format=="string"||!n.format)?k(l):k(l,n.modelType,!0):l:"",f=(l,M=!1)=>{if(t("update:model-value",l),i.value.emitTimezone&&M){const H=Array.isArray(l)?l.map(u=>Ve(pe(u),i.value.emitTimezone)):Ve(pe(l),i.value.emitTimezone);t("update:model-timezone-value",H)}},q=l=>Array.isArray(r.value)?n.multiDates?r.value.map(M=>l(M)):[l(r.value[0]),r.value[1]?l(r.value[1]):xe(c.value.partialRange)]:l(pe(r.value)),ee=()=>{if(Array.isArray(r.value)){const l=Ae(r.value[0],n.weekStart),M=r.value[1]?Ae(r.value[1],n.weekStart):[];return[l.map(H=>Y(H)),M.map(H=>Y(H))]}return Ae(r.value,n.weekStart).map(l=>Y(l))},O=l=>f(pe(q(l)));return{inputValue:w,internalModelValue:r,checkBeforeEmit:()=>r.value?c.value.enabled?c.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:ae,formatInputValue:A,emitModelValue:()=>(A(),n.monthPicker?O(V):n.timePicker?O(C):n.yearPicker?O(s.getYear):n.weekPicker?t("update:model-value",ee()):f(S(),!0))}},ta=(t,n)=>{const{defaultedFilters:o,propDates:r}=de(t),{validateMonthYearInRange:a}=Le(t),c=(k,C)=>{let V=k;return o.value.months.includes(s.getMonth(V))?(V=C?s.addMonths(k,1):s.subMonths(k,1),c(V,C)):V},i=(k,C)=>{let V=k;return o.value.years.includes(s.getYear(V))?(V=C?s.addYears(k,1):s.subYears(k,1),i(V,C)):V},p=(k,C=!1)=>{const V=s.set(Y(),{month:t.month,year:t.year});let R=k?s.addMonths(V,1):s.subMonths(V,1);t.disableYearSelect&&(R=s.setYear(R,t.year));let K=s.getMonth(R),y=s.getYear(R);o.value.months.includes(K)&&(R=c(R,k),K=s.getMonth(R),y=s.getYear(R)),o.value.years.includes(y)&&(R=i(R,k),y=s.getYear(R)),a(K,y,k,t.preventMinMaxNavigation)&&w(K,y,C)},w=(k,C,V)=>{n("update-month-year",{month:k,year:C,fromNav:V})},N=e.computed(()=>k=>rn(s.set(Y(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,k));return{handleMonthYearChange:p,isDisabled:N,updateMonthYear:w}};var qe=(t=>(t.center="center",t.left="left",t.right="right",t))(qe||{}),De=(t=>(t.month="month",t.year="year",t))(De||{}),Ie=(t=>(t.top="top",t.bottom="bottom",t))(Ie||{}),ze=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ze||{}),Be=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Be||{});const na=({menuRef:t,menuRefInner:n,inputRef:o,pickerWrapperRef:r,inline:a,emit:c,props:i,slots:p})=>{const w=e.ref({}),N=e.ref(!1),k=e.ref({top:"0",left:"0"}),C=e.ref(!1),V=e.toRef(i,"teleportCenter");e.watch(V,()=>{k.value=JSON.parse(JSON.stringify({})),B()});const R=d=>{if(i.teleport){const f=d.getBoundingClientRect();return{left:f.left+window.scrollX,top:f.top+window.scrollY}}return{top:0,left:0}},K=(d,f)=>{k.value.left=`${d+f-w.value.width}px`},y=d=>{k.value.left=`${d}px`},x=(d,f)=>{i.position===qe.left&&y(d),i.position===qe.right&&K(d,f),i.position===qe.center&&(k.value.left=`${d+f/2-w.value.width/2}px`)},T=d=>{const{width:f,height:q}=d.getBoundingClientRect(),{top:ee,left:O}=i.altPosition?i.altPosition(d):R(d);return{top:+ee,left:+O,width:f,height:q}},L=()=>{k.value.left="50%",k.value.top="50%",k.value.transform="translate(-50%, -50%)",k.value.position="fixed",delete k.value.opacity},E=()=>{const d=ge(o),{top:f,left:q,transform:ee}=i.altPosition(d);k.value={top:`${f}px`,left:`${q}px`,transform:ee??""}},B=(d=!0)=>{var f;if(!a.value.enabled){if(V.value)return L();if(i.altPosition!==null)return E();if(d){const q=i.teleport?(f=n.value)==null?void 0:f.$el:t.value;q&&(w.value=q.getBoundingClientRect()),c("recalculate-position")}return v()}},D=({inputEl:d,left:f,width:q})=>{window.screen.width>768&&!N.value&&x(f,q),S(d)},j=d=>{const{top:f,left:q,height:ee,width:O}=T(d);k.value.top=`${ee+f+ +i.offset}px`,C.value=!1,N.value||(k.value.left=`${q+O/2-w.value.width/2}px`),D({inputEl:d,left:q,width:O})},Z=d=>{const{top:f,left:q,width:ee}=T(d);k.value.top=`${f-+i.offset-w.value.height}px`,C.value=!0,D({inputEl:d,left:q,width:ee})},S=d=>{if(i.autoPosition){const{left:f,width:q}=T(d),{left:ee,right:O}=w.value;if(!N.value){if(Math.abs(ee)!==Math.abs(O)){if(ee<=0)return N.value=!0,y(f);if(O>=document.documentElement.clientWidth)return N.value=!0,K(f,q)}return x(f,q)}}},te=()=>{const d=ge(o);if(d){const{height:f}=w.value,{top:q,height:ee}=d.getBoundingClientRect(),g=window.innerHeight-q-ee,b=q;return f<=g?Ie.bottom:f>g&&f<=b?Ie.top:g>=b?Ie.bottom:Ie.top}return Ie.bottom},ae=d=>te()===Ie.bottom?j(d):Z(d),v=()=>{const d=ge(o);if(d)return i.autoPosition?ae(d):j(d)},z=function(d){if(d){const f=d.scrollHeight>d.clientHeight,ee=window.getComputedStyle(d).overflowY.indexOf("hidden")!==-1;return f&&!ee}return!0},_=function(d){return!d||d===document.body||d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:z(d)?d:_(d.parentNode)},A=d=>{if(d)switch(i.position){case qe.left:return{left:0,transform:"translateX(0)"};case qe.right:return{left:`${d.width}px`,transform:"translateX(-100%)"};default:return{left:`${d.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:C,menuStyle:k,xCorrect:N,setMenuPosition:B,getScrollableParent:_,shadowRender:(d,f)=>{var l,M,H;const q=document.createElement("div"),ee=(l=ge(o))==null?void 0:l.getBoundingClientRect();q.setAttribute("id","dp--temp-container");const O=(M=r.value)!=null&&M.clientWidth?r.value:document.body;O.append(q);const g=A(ee),b=e.h(d,{...f,shadow:!0,style:{opacity:0,position:"absolute",...g}},Object.fromEntries(Object.keys(p).filter(u=>["right-sidebar","left-sidebar"].includes(u)).map(u=>[u,p[u]])));e.render(b,q),w.value=(H=b.el)==null?void 0:H.getBoundingClientRect(),e.render(null,q),O.removeChild(q)}}},Ye=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],aa=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ra={all:()=>Ye,monthYear:()=>Ye.filter(t=>t.use.includes("month-year")),input:()=>aa,timePicker:()=>Ye.filter(t=>t.use.includes("time")),action:()=>Ye.filter(t=>t.use.includes("action")),calendar:()=>Ye.filter(t=>t.use.includes("calendar")),menu:()=>Ye.filter(t=>t.use.includes("menu")),shared:()=>Ye.filter(t=>t.use.includes("shared")),yearMode:()=>Ye.filter(t=>t.use.includes("year-mode"))},be=(t,n,o)=>{const r=[];return ra[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),o!=null&&o.length&&o.forEach(a=>{a.slot&&r.push(a.slot)}),r},Xe=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),o=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:o}},Je=(t,n)=>{const{defaultedRange:o,defaultedTz:r}=de(t),a=Y(Ve(Y(),r.value.timezone)),c=e.ref([{month:s.getMonth(a),year:s.getYear(a)}]),i=e.reactive({hours:o.value.enabled?[s.getHours(a),s.getHours(a)]:s.getHours(a),minutes:o.value.enabled?[s.getMinutes(a),s.getMinutes(a)]:s.getMinutes(a),seconds:o.value.enabled?[0,0]:0}),p=e.computed({get:()=>t.internalModelValue,set:k=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",k)}}),w=e.computed(()=>k=>c.value[k]?c.value[k].month:0),N=e.computed(()=>k=>c.value[k]?c.value[k].year:0);return{calendars:c,time:i,modelValue:p,month:w,year:N}},la=(t,n)=>{const{defaultedMultiCalendars:o,defaultedHighlight:r,defaultedTz:a,propDates:c,defaultedRange:i}=de(n),{isDisabled:p}=Le(n),w=e.ref(null),N=e.ref(Ve(new Date,a.value.timezone)),k=l=>{!l.current&&n.hideOffsetDates||(w.value=l.value)},C=()=>{w.value=null},V=l=>Array.isArray(t.value)&&i.value.enabled&&t.value[0]&&w.value?l?me(w.value,t.value[0]):fe(w.value,t.value[0]):!0,R=(l,M)=>{const H=()=>t.value?M?t.value[0]||null:t.value[1]:null,u=t.value&&Array.isArray(t.value)?H():null;return ie(Y(l.value),u)},K=l=>{const M=Array.isArray(t.value)?t.value[0]:null;return l?!fe(w.value??null,M):!0},y=(l,M=!0)=>(i.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!l.current?!1:ie(Y(l.value),t.value[M?0:1]):i.value.enabled?R(l,M)&&K(M)||ie(l.value,Array.isArray(t.value)?t.value[0]:null)&&V(M):!1,x=(l,M,H)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:H?me(t.value[0],M.value):fe(t.value[0],M.value):!1,T=l=>!t.value||n.hideOffsetDates&&!l.current?!1:i.value.enabled?n.modelAuto&&Array.isArray(t.value)?ie(l.value,t.value[0]?t.value[0]:N.value):!1:n.multiDates&&Array.isArray(t.value)?t.value.some(M=>ie(M,l.value)):ie(l.value,t.value?t.value:N.value),L=l=>{if(i.value.autoRange||n.weekPicker){if(w.value){if(n.hideOffsetDates&&!l.current)return!1;const M=s.addDays(w.value,+i.value.autoRange),H=Ae(Y(w.value),n.weekStart);return n.weekPicker?ie(H[1],Y(l.value)):ie(M,Y(l.value))}return!1}return!1},E=l=>{if(i.value.autoRange||n.weekPicker){if(w.value){const M=s.addDays(w.value,+i.value.autoRange);if(n.hideOffsetDates&&!l.current)return!1;const H=Ae(Y(w.value),n.weekStart);return n.weekPicker?me(l.value,H[0])&&fe(l.value,H[1]):me(l.value,w.value)&&fe(l.value,M)}return!1}return!1},B=l=>{if(i.value.autoRange||n.weekPicker){if(w.value){if(n.hideOffsetDates&&!l.current)return!1;const M=Ae(Y(w.value),n.weekStart);return n.weekPicker?ie(M[0],l.value):ie(w.value,l.value)}return!1}return!1},D=l=>rt(t.value,w.value,l.value),j=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,Z=()=>n.modelAuto?Gt(n.internalModelValue):!0,S=l=>{if(Array.isArray(t.value)&&t.value.length||n.weekPicker)return!1;const M=i.value.enabled?!y(l)&&!y(l,!1):!0;return!p(l.value)&&!T(l)&&!(!l.current&&n.hideOffsetDates)&&M},te=l=>i.value.enabled?n.modelAuto?j()&&T(l):!1:T(l),ae=l=>r.value?Pn(l.value,c.value.highlight):!1,v=l=>{const M=p(l.value);return M&&(typeof r.value=="function"?!r.value(l.value,M):!r.value.options.highlightDisabled)},z=l=>{var M;return typeof r.value=="function"?r.value(l.value):(M=r.value.weekdays)==null?void 0:M.includes(l.value.getDay())},_=l=>(i.value.enabled||n.weekPicker)&&(!(o.value.count>0)||l.current)&&Z()&&!(!l.current&&n.hideOffsetDates)&&!T(l)?D(l):!1,A=l=>{const{isRangeStart:M,isRangeEnd:H}=q(l),u=i.value.enabled?M||H:!1;return{dp__cell_offset:!l.current,dp__pointer:!n.disabled&&!(!l.current&&n.hideOffsetDates)&&!p(l.value),dp__cell_disabled:p(l.value),dp__cell_highlight:!v(l)&&(ae(l)||z(l))&&!te(l)&&!u&&!B(l)&&!(_(l)&&n.weekPicker)&&!H,dp__cell_highlight_active:!v(l)&&(ae(l)||z(l))&&te(l),dp__today:!n.noToday&&ie(l.value,N.value)&&l.current,"dp--past":fe(l.value,N.value),"dp--future":me(l.value,N.value)}},J=l=>({dp__active_date:te(l),dp__date_hover:S(l)}),d=l=>{if(t.value&&!Array.isArray(t.value)){const M=Ae(t.value,n.weekStart);return{...O(l),dp__range_start:ie(M[0],l.value),dp__range_end:ie(M[1],l.value),dp__range_between_week:me(l.value,M[0])&&fe(l.value,M[1])}}return{...O(l)}},f=l=>{if(t.value&&Array.isArray(t.value)){const M=Ae(t.value[0],n.weekStart),H=t.value[1]?Ae(t.value[1],n.weekStart):[];return{...O(l),dp__range_start:ie(M[0],l.value)||ie(H[0],l.value),dp__range_end:ie(M[1],l.value)||ie(H[1],l.value),dp__range_between_week:me(l.value,M[0])&&fe(l.value,M[1])||me(l.value,H[0])&&fe(l.value,H[1]),dp__range_between:me(l.value,M[1])&&fe(l.value,H[0])}}return{...O(l)}},q=l=>{const M=o.value.count>0?l.current&&y(l)&&Z():y(l)&&Z(),H=o.value.count>0?l.current&&y(l,!1)&&Z():y(l,!1)&&Z();return{isRangeStart:M,isRangeEnd:H}},ee=l=>{const{isRangeStart:M,isRangeEnd:H}=q(l);return{dp__range_start:M,dp__range_end:H,dp__range_between:_(l),dp__date_hover_start:x(S(l),l,!0),dp__date_hover_end:x(S(l),l,!1)}},O=l=>({...ee(l),dp__cell_auto_range:E(l),dp__cell_auto_range_start:B(l),dp__cell_auto_range_end:L(l)}),g=l=>i.value.enabled?i.value.autoRange?O(l):n.modelAuto?{...J(l),...ee(l)}:n.weekPicker?f(l):ee(l):n.weekPicker?d(l):J(l);return{setHoverDate:k,clearHoverDate:C,getDayClassData:l=>n.hideOffsetDates&&!l.current?{}:{...A(l),...g(l),[n.dayClass?n.dayClass(l.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},Le=t=>{const{defaultedFilters:n,defaultedRange:o,propDates:r}=de(t),a=v=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Y(v)):!!at(v,r.value.disabledDates):!1,c=v=>{const z=r.value.maxDate?me(v,r.value.maxDate):!1,_=r.value.minDate?fe(v,r.value.minDate):!1,A=a(v),d=n.value.months.map(g=>+g).includes(s.getMonth(v)),f=t.disabledWeekDays.length?t.disabledWeekDays.some(g=>+g===s.getDay(v)):!1,q=k(v),ee=s.getYear(v),O=ee<+t.yearRange[0]||ee>+t.yearRange[1];return!(z||_||A||d||O||f||q)},i=(v,z)=>fe(...Ee(r.value.minDate,v,z))||ie(...Ee(r.value.minDate,v,z)),p=(v,z)=>me(...Ee(r.value.maxDate,v,z))||ie(...Ee(r.value.maxDate,v,z)),w=(v,z,_)=>{let A=!1;return r.value.maxDate&&_&&p(v,z)&&(A=!0),r.value.minDate&&!_&&i(v,z)&&(A=!0),A},N=(v,z,_,A)=>{let J=!1;return A?r.value.minDate&&r.value.maxDate?J=w(v,z,_):(r.value.minDate&&i(v,z)||r.value.maxDate&&p(v,z))&&(J=!0):J=!0,J},k=v=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!at(v,r.value.allowedDates):!1,C=v=>!c(v),V=v=>o.value.noDisabledRange?!s.eachDayOfInterval({start:v[0],end:v[1]}).some(_=>C(_)):!0,R=v=>{if(v){const z=s.getYear(v);return z>=+t.yearRange[0]&&z<=t.yearRange[1]}return!0},K=(v,z)=>Array.isArray(v)&&v[z]&&(o.value.maxRange||o.value.minRange)&&R(v[z]),y=(v,z,_=0)=>{if(K(z,_)){const A=s.differenceInCalendarDays(v,z[_]),J=nn(z[_],v),d=J.length===1?0:J.filter(q=>C(q)).length,f=Math.abs(A)-(o.value.minMaxRawRange?0:d);if(o.value.minRange&&o.value.maxRange)return f>=+o.value.minRange&&f<=+o.value.maxRange;if(o.value.minRange)return f>=+o.value.minRange;if(o.value.maxRange)return f<=+o.value.maxRange}return!0},x=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,T=v=>Array.isArray(v)?[v[0]?$t(v[0]):null,v[1]?$t(v[1]):null]:$t(v),L=(v,z,_)=>v.find(A=>+A.hours===s.getHours(z)&&A.minutes==="*"?!0:+A.minutes===s.getMinutes(z)&&+A.hours===s.getHours(z))&&_,E=(v,z,_)=>{const[A,J]=v,[d,f]=z;return!L(A,d,_)&&!L(J,f,_)&&_},B=(v,z)=>{const _=Array.isArray(z)?z:[z];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?E(t.disabledTimes,_,v):!_.some(A=>L(t.disabledTimes,A,v)):v},D=(v,z)=>{const _=Array.isArray(z)?[Oe(z[0]),z[1]?Oe(z[1]):void 0]:Oe(z),A=!t.disabledTimes(_);return v&&A},j=(v,z)=>t.disabledTimes?Array.isArray(t.disabledTimes)?B(z,v):D(z,v):z,Z=v=>{let z=!0;if(!v||x())return!0;const _=!r.value.minDate&&!r.value.maxDate?T(v):v;return(t.maxTime||r.value.maxDate)&&(z=on(t.maxTime,r.value.maxDate,"max",pe(_),z)),(t.minTime||r.value.minDate)&&(z=on(t.minTime,r.value.minDate,"min",pe(_),z)),j(v,z)},S=v=>{if(!t.monthPicker)return!0;let z=!0;const _=Y(Me(v));if(r.value.minDate&&r.value.maxDate){const A=Y(Me(r.value.minDate)),J=Y(Me(r.value.maxDate));return me(_,A)&&fe(_,J)||ie(_,A)||ie(_,J)}if(r.value.minDate){const A=Y(Me(r.value.minDate));z=me(_,A)||ie(_,A)}if(r.value.maxDate){const A=Y(Me(r.value.maxDate));z=fe(_,A)||ie(_,A)}return z},te=e.computed(()=>v=>!t.enableTimePicker||t.ignoreTimeValidation?!0:Z(v)),ae=e.computed(()=>v=>t.monthPicker?Array.isArray(v)&&(o.value.enabled||t.multiDates)?!v.filter(_=>!S(_)).length:S(v):!0);return{isDisabled:C,validateDate:c,validateMonthYearInRange:N,isDateRangeAllowed:V,checkMinMaxRange:y,isValidTime:Z,isTimeValid:te,isMonthValid:ae}},st=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),o=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:o}},oa=(t,n,o)=>{const r=e.ref(0),a=e.reactive({[ze.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ze.calendar]:!1,[ze.header]:!1}),c=e.computed(()=>t.monthPicker),i=C=>{var V;if((V=t.flow)!=null&&V.length){if(!C&&c.value)return k();a[C]=!0,Object.keys(a).filter(R=>!a[R]).length||k()}},p=()=>{var C;(C=t.flow)!=null&&C.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),k())},w=()=>{r.value=-1},N=(C,V,...R)=>{var K,y;t.flow[r.value]===C&&o.value&&((y=(K=o.value)[V])==null||y.call(K,...R))},k=()=>{N(Be.month,"toggleMonthPicker",!0),N(Be.year,"toggleYearPicker",!0),N(Be.calendar,"toggleTimePicker",!1,!0),N(Be.time,"toggleTimePicker",!0,!0);const C=t.flow[r.value];(C===Be.hours||C===Be.minutes||C===Be.seconds)&&N(C,"toggleTimePicker",!0,!0,C)};return{childMount:i,updateFlowStep:p,resetFlow:w,flowStep:r}},it={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},Se={...it,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},sa={key:1,class:"dp__input_wrap"},ia=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ua={key:2,class:"dp__clear_icon"},ca=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...it},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTextInput:c,defaultedAriaLabels:i,defaultedInline:p,defaultedConfig:w,defaultedRange:N,getDefaultPattern:k,getDefaultStartTime:C}=de(a),{checkMinMaxRange:V}=Le(a),R=e.ref(),K=e.ref(null),y=e.ref(!1),x=e.ref(!1),T=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!c.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!c.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:y.value||a.isMenuOpen,dp__input_reg:!c.value.enabled,[a.inputClassName]:!!a.inputClassName})),L=()=>{r("set-input-date",null),a.autoApply&&(r("set-empty-date"),R.value=null)},E=f=>{const q=C();return Rn(f,c.value.format??k(),q??an({},a.enableSeconds),a.inputValue,x.value)},B=f=>{const{rangeSeparator:q}=c.value,[ee,O]=f.split(`${q}`);if(ee){const g=E(ee.trim()),b=O?E(O.trim()):null,l=g&&b?[g,b]:[g];V(b,l,0)&&(R.value=g?l:null)}},D=()=>{x.value=!0},j=f=>{if(N.value.enabled)B(f);else if(a.multiDates){const q=f.split(";");R.value=q.map(ee=>E(ee.trim())).filter(ee=>ee)}else R.value=E(f)},Z=f=>{var ee;const q=typeof f=="string"?f:(ee=f.target)==null?void 0:ee.value;q!==""?(c.value.openMenu&&!a.isMenuOpen&&r("open"),j(q),r("set-input-date",R.value)):L(),x.value=!1,r("update:input-value",q)},S=f=>{c.value.enabled?(j(f.target.value),c.value.enterSubmit&&St(R.value)&&a.inputValue!==""?(r("set-input-date",R.value,!0),R.value=null):c.value.enterSubmit&&a.inputValue===""&&(R.value=null,r("clear"))):v(f)},te=f=>{c.value.enabled&&c.value.tabSubmit&&j(f.target.value),c.value.tabSubmit&&St(R.value)&&a.inputValue!==""?(r("set-input-date",R.value,!0,!0),R.value=null):c.value.tabSubmit&&a.inputValue===""&&(R.value=null,r("clear",!0))},ae=()=>{var f;y.value=!0,r("focus"),c.value.enabled&&c.value.selectOnFocus&&((f=K.value)==null||f.select())},v=f=>{f.preventDefault(),Re(f,w.value,!0),c.value.enabled&&c.value.openMenu&&!p.value.input&&!a.isMenuOpen?r("open"):c.value.enabled||r("toggle")},z=()=>{r("real-blur"),y.value=!1,(!a.isMenuOpen||p.value.enabled&&p.value.input)&&r("blur"),a.autoApply&&c.value.enabled&&R.value&&!a.isMenuOpen&&(r("set-input-date",R.value),r("select-date"),R.value=null)},_=f=>{Re(f,w.value,!0),r("clear")},A=f=>{if(!c.value.enabled){if(f.code==="Tab")return;f.preventDefault()}};return n({focusInput:()=>{var f;(f=K.value)==null||f.focus({preventScroll:!0})},setParsedDate:f=>{R.value=f}}),(f,q)=>{var ee;return e.openBlock(),e.createElementBlock("div",{onClick:v},[f.$slots.trigger&&!f.$slots["dp-input"]&&!e.unref(p).enabled?e.renderSlot(f.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!f.$slots.trigger&&(!e.unref(p).enabled||e.unref(p).input)?(e.openBlock(),e.createElementBlock("div",sa,[f.$slots["dp-input"]&&!f.$slots.trigger&&(!e.unref(p).enabled||e.unref(p).enabled&&e.unref(p).input)?e.renderSlot(f.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:Z,onEnter:S,onTab:te,onClear:_,onBlur:z,onKeypress:A,onPaste:D,openMenu:()=>f.$emit("open"),closeMenu:()=>f.$emit("close"),toggleMenu:()=>f.$emit("toggle")}):e.createCommentVNode("",!0),f.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:f.uid?`dp-input-${f.uid}`:void 0,ref_key:"inputRef",ref:K,name:f.name,class:e.normalizeClass(T.value),inputmode:e.unref(c).enabled?"text":"none",placeholder:f.placeholder,disabled:f.disabled,readonly:f.readonly,required:f.required,value:t.inputValue,autocomplete:f.autocomplete,"aria-label":(ee=e.unref(i))==null?void 0:ee.input,"aria-disabled":f.disabled||void 0,"aria-invalid":f.state===!1?!0:void 0,onInput:Z,onKeydown:[e.withKeys(S,["enter"]),e.withKeys(te,["tab"]),A],onBlur:z,onFocus:ae,onKeypress:A,onPaste:D},null,42,ia)),e.createElementVNode("div",{onClick:q[2]||(q[2]=O=>r("toggle"))},[f.$slots["input-icon"]&&!f.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:q[0]||(q[0]=O=>r("toggle"))},[e.renderSlot(f.$slots,"input-icon")])):e.createCommentVNode("",!0),!f.$slots["input-icon"]&&!f.hideInputIcon&&!f.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(We),{key:1,class:"dp__input_icon dp__input_icons",onClick:q[1]||(q[1]=O=>r("toggle"))})):e.createCommentVNode("",!0)]),f.$slots["clear-icon"]&&t.inputValue&&f.clearable&&!f.disabled&&!f.readonly?(e.openBlock(),e.createElementBlock("span",ua,[e.renderSlot(f.$slots,"clear-icon",{clear:_})])):e.createCommentVNode("",!0),f.clearable&&!f.$slots["clear-icon"]&&t.inputValue&&!f.disabled&&!f.readonly?(e.openBlock(),e.createBlock(e.unref(xt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:q[3]||(q[3]=e.withModifiers(O=>_(O),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),da=["title"],fa=["disabled"],ma=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Se},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const o=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:c,defaultedMultiCalendars:i,defaultedTextInput:p,defaultedInline:w,defaultedRange:N,getDefaultPattern:k}=de(r),{isTimeValid:C,isMonthValid:V}=Le(r),{buildMatrix:R}=_e(),K=e.ref(null),y=e.ref(null),x=e.ref(!1),T=e.ref({}),L=e.ref(null),E=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&R([ge(K),ge(y)],"actionRow"),B(),window.addEventListener("resize",B)}),e.onUnmounted(()=>{window.removeEventListener("resize",B)});const B=()=>{x.value=!1,setTimeout(()=>{var d,f;const A=(d=L.value)==null?void 0:d.getBoundingClientRect(),J=(f=E.value)==null?void 0:f.getBoundingClientRect();A&&J&&(T.value.maxWidth=`${J.width-A.width-20}px`),x.value=!0},0)},D=e.computed(()=>N.value.enabled&&!N.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),j=e.computed(()=>!C.value(r.internalModelValue)||!V.value(r.internalModelValue)||!D.value),Z=()=>{const A=c.value;return r.timePicker||r.monthPicker,A(pe(r.internalModelValue))},S=()=>{const A=r.internalModelValue;return i.value.count>0?`${te(A[0])} - ${te(A[1])}`:[te(A[0]),te(A[1])]},te=A=>ln(A,c.value,r.formatLocale,p.value.rangeSeparator,r.modelAuto,k()),ae=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof c.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?S():r.multiDates?r.internalModelValue.map(A=>`${te(A)}`):r.modelAuto?`${te(r.internalModelValue[0])}`:`${te(r.internalModelValue[0])} -`:te(r.internalModelValue):Z()),v=()=>r.multiDates?"; ":" - ",z=e.computed(()=>Array.isArray(ae.value)?ae.value.join(v()):ae.value),_=()=>{C.value(r.internalModelValue)&&V.value(r.internalModelValue)&&D.value?o("select-date"):o("invalid-select")};return(A,J)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:E,class:"dp__action_row"},[A.$slots["action-row"]?e.renderSlot(A.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:A.internalModelValue,disabled:j.value,selectDate:()=>A.$emit("select-date"),closePicker:()=>A.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:z.value,style:e.normalizeStyle(T.value)},[A.$slots["action-preview"]&&x.value?e.renderSlot(A.$slots,"action-preview",{key:0,value:A.internalModelValue}):e.createCommentVNode("",!0),!A.$slots["action-preview"]&&x.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(z.value),1)],64)):e.createCommentVNode("",!0)],12,da)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:L,class:"dp__action_buttons","data-dp-element":"action-row"},[A.$slots["action-buttons"]?e.renderSlot(A.$slots,"action-buttons",{key:0,value:A.internalModelValue}):e.createCommentVNode("",!0),A.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(w).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:K,type:"button",class:"dp__action_button dp__action_cancel",onClick:J[0]||(J[0]=d=>A.$emit("close-picker")),onKeydown:[J[1]||(J[1]=e.withKeys(d=>A.$emit("close-picker"),["enter"])),J[2]||(J[2]=e.withKeys(d=>A.$emit("close-picker"),["space"]))]},e.toDisplayString(A.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:J[3]||(J[3]=d=>A.$emit("select-now")),onKeydown:[J[4]||(J[4]=e.withKeys(d=>A.$emit("select-now"),["enter"])),J[5]||(J[5]=e.withKeys(d=>A.$emit("select-now"),["space"]))]},e.toDisplayString(A.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_select",disabled:j.value,onKeydown:[e.withKeys(_,["enter"]),e.withKeys(_,["space"])],onClick:_},e.toDisplayString(A.selectText),41,fa)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),pa=["onKeydown"],ga={class:"dp__selection_grid_header"},ya=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],ha=["aria-label"],Ze=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:o}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:c}=_e(),i=o,p=t,{defaultedAriaLabels:w,defaultedTextInput:N,defaultedConfig:k}=de(p),{hideNavigationButtons:C}=st(),V=e.ref(!1),R=e.ref(null),K=e.ref(null),y=e.ref([]),x=e.ref(),T=e.ref(null),L=e.ref(0),E=e.ref(null);e.onBeforeUpdate(()=>{R.value=null}),e.onMounted(()=>{e.nextTick().then(()=>v()),p.noOverlayFocus||D(),B(!0)}),e.onUnmounted(()=>B(!1));const B=O=>{var g;p.arrowNavigation&&((g=p.headerRefs)!=null&&g.length?c(O):r(O))},D=()=>{var g;const O=ge(K);O&&(N.value.enabled||(R.value?(g=R.value)==null||g.focus({preventScroll:!0}):O.focus({preventScroll:!0})),V.value=O.clientHeight<O.scrollHeight)},j=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!p.useRelative,"dp--overlay-relative":p.useRelative})),Z=e.computed(()=>p.useRelative?{height:`${p.height}px`,width:"260px"}:void 0),S=e.computed(()=>({dp__overlay_col:!0})),te=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:V.value,dp__button_bottom:p.isLast})),ae=e.computed(()=>{var O,g;return{dp__overlay_container:!0,dp__container_flex:((O=p.items)==null?void 0:O.length)<=6,dp__container_block:((g=p.items)==null?void 0:g.length)>6}});e.watch(()=>p.items,()=>v(!1),{deep:!0});const v=(O=!0)=>{e.nextTick().then(()=>{const g=ge(R),b=ge(K),l=ge(T),M=ge(E),H=l?l.getBoundingClientRect().height:0;b&&(b.getBoundingClientRect().height?L.value=b.getBoundingClientRect().height-H:L.value=k.value.modeHeight-H),g&&M&&O&&(M.scrollTop=g.offsetTop-M.offsetTop-(L.value/2-g.getBoundingClientRect().height)-H)})},z=O=>{O.disabled||i("selected",O.value)},_=()=>{i("toggle"),i("reset-flow")},A=()=>{p.escClose&&_()},J=(O,g,b,l)=>{O&&((g.active||g.value===p.focusValue)&&(R.value=O),p.arrowNavigation&&(Array.isArray(y.value[b])?y.value[b][l]=O:y.value[b]=[O],d()))},d=()=>{var g,b;const O=(g=p.headerRefs)!=null&&g.length?[p.headerRefs].concat(y.value):y.value.concat([p.skipButtonRef?[]:[T.value]]);a(pe(O),(b=p.headerRefs)!=null&&b.length?"monthPicker":"selectionGrid")},f=O=>{p.arrowNavigation||Re(O,k.value,!0)},q=O=>{x.value=O,i("hover-value",O)},ee=()=>{if(_(),!p.isLast){const O=Tn(p.menuWrapRef??null,"action-row");if(O){const g=Zt(O);g==null||g.focus()}}};return n({focusGrid:D}),(O,g)=>{var b;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:K,class:e.normalizeClass(j.value),style:e.normalizeStyle(Z.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(A,["prevent"]),["esc"]),g[0]||(g[0]=e.withKeys(e.withModifiers(l=>f(l),["prevent"]),["left"])),g[1]||(g[1]=e.withKeys(e.withModifiers(l=>f(l),["prevent"]),["up"])),g[2]||(g[2]=e.withKeys(e.withModifiers(l=>f(l),["prevent"]),["down"])),g[3]||(g[3]=e.withKeys(e.withModifiers(l=>f(l),["prevent"]),["right"]))]},[e.createElementVNode("div",{ref_key:"containerRef",ref:E,class:e.normalizeClass(ae.value),role:"grid",style:e.normalizeStyle({height:`${L.value}px`})},[e.createElementVNode("div",ga,[e.renderSlot(O.$slots,"header")]),O.$slots.overlay?e.renderSlot(O.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(O.items,(l,M)=>(e.openBlock(),e.createElementBlock("div",{key:M,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:O.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,(H,u)=>(e.openBlock(),e.createElementBlock("div",{key:H.value,ref_for:!0,ref:X=>J(X,H,M,u),role:"gridcell",class:e.normalizeClass(S.value),"aria-selected":H.active||void 0,"aria-disabled":H.disabled||void 0,tabindex:"0",onClick:X=>z(H),onKeydown:[e.withKeys(e.withModifiers(X=>z(H),["prevent"]),["enter"]),e.withKeys(e.withModifiers(X=>z(H),["prevent"]),["space"])],onMouseover:X=>q(H.value)},[e.createElementVNode("div",{class:e.normalizeClass(H.className)},[O.$slots.item?e.renderSlot(O.$slots,"item",{key:0,item:H}):e.createCommentVNode("",!0),O.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(H.text),1)],64))],2)],42,ya))),128))],2))),128))],6),O.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:T,type:"button","aria-label":(b=e.unref(w))==null?void 0:b.toggleOverlay,class:e.normalizeClass(te.value),tabindex:"0",onClick:_,onKeydown:[e.withKeys(_,["enter"]),e.withKeys(ee,["tab"])]},[e.renderSlot(O.$slots,"button-icon")],42,ha)),[[e.vShow,!e.unref(C)(O.hideNavigation,O.type)]]):e.createCommentVNode("",!0)],46,pa)}}}),ut=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,o=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(i,p)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:i,index:p})],2))),128))],2))}}),ka=["aria-label","aria-disabled"],Fe=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const o=n,r=e.ref(null);return e.onMounted(()=>o("set-ref",r)),(a,c)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:c[0]||(c[0]=i=>a.$emit("activate")),onKeydown:[c[1]||(c[1]=e.withKeys(e.withModifiers(i=>a.$emit("activate"),["prevent"]),["enter"])),c[2]||(c[2]=e.withKeys(e.withModifiers(i=>a.$emit("activate"),["prevent"]),["space"]))]},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,ka))}}),ba={class:"dp--year-mode-picker"},wa=["aria-label"],mn=e.defineComponent({__name:"YearModePicker",props:{...Se,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const o=n,r=t,{showRightIcon:a,showLeftIcon:c}=st(),{defaultedConfig:i,defaultedMultiCalendars:p,defaultedAriaLabels:w,defaultedTransitions:N}=de(r),{showTransition:k,transitionName:C}=Xe(N),V=(y=!1,x)=>{o("toggle-year-picker",{flow:y,show:x})},R=y=>{o("year-select",y)},K=(y=!1)=>{o("handle-year",y)};return(y,x)=>{var T,L,E;return e.openBlock(),e.createElementBlock("div",ba,[e.unref(c)(e.unref(p),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:0,ref:"mpPrevIconRef","aria-label":(T=e.unref(w))==null?void 0:T.prevYear,disabled:t.isDisabled(!1),onActivate:x[0]||(x[0]=B=>K(!1))},{default:e.withCtx(()=>[y.$slots["arrow-left"]?e.renderSlot(y.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(pt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(L=e.unref(w))==null?void 0:L.openYearsOverlay,onClick:x[1]||(x[1]=()=>V(!1)),onKeydown:x[2]||(x[2]=e.withKeys(()=>V(!1),["enter"]))},[y.$slots.year?e.renderSlot(y.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),y.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,wa),e.unref(a)(e.unref(p),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:1,ref:"mpNextIconRef","aria-label":(E=e.unref(w))==null?void 0:E.nextYear,disabled:t.isDisabled(!0),onActivate:x[3]||(x[3]=B=>K(!0))},{default:e.withCtx(()=>[y.$slots["arrow-right"]?e.renderSlot(y.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(gt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(C)(t.showYearPicker),css:e.unref(k)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(Ze,{key:0,items:t.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!e.unref(i).keepActionRow,"hide-navigation":y.hideNavigation,type:"year",onToggle:V,onSelected:x[4]||(x[4]=B=>R(B))},e.createSlots({"button-icon":e.withCtx(()=>[y.$slots["calendar-icon"]?e.renderSlot(y.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:B})=>[e.renderSlot(y.$slots,"year-overlay-value",{text:B.text,value:B.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Vt=(t,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ie(t,r))){const r=n.value.filter(a=>!ie(a,t));n.value=r.length?r:null}else(o&&+o>n.value.length||!o)&&n.value.push(t);else n.value=[t]},Yt=(t,n,o)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?fe(n,r[0])?(r.unshift(n),o("range-start",r[0]),o("range-start",r[1])):(r[1]=n,o("range-end",n)):(r=[n],o("range-start",n)),t.value=r,r},ct=(t,n,o,r)=>{t[0]&&t[1]&&o&&n("auto-apply"),t[0]&&!t[1]&&r&&o&&n("auto-apply")},pn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ve(Y(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ve(Y(t.value),t.timezone))},gn=(t,n,o,r)=>Array.isArray(n.value)&&n.value.length===2?r.value.fixedStart&&(me(t,n.value[0])||ie(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(fe(t,n.value[1])||ie(t,n.value[1]))?[t,n.value[1]]:(o("invalid-fixed-range",t),n.value):[],yn=({multiCalendars:t,highlight:n,propDates:o,calendars:r,modelValue:a,props:c,year:i,month:p,emit:w})=>{const N=e.computed(()=>bt(c.yearRange,c.reverseYears)),k=e.ref([!1]),C=e.computed(()=>(D,j)=>{const Z=s.set(Me(new Date),{month:p.value(D),year:i.value(D)});return rn(Z,o.value.maxDate,o.value.minDate,c.preventMinMaxNavigation,j)}),V=()=>{for(let D=0;D<t.value.count;D++)if(D===0)r.value[D]=r.value[0];else{const j=s.set(Y(),r.value[D-1]);r.value[D]={month:s.getMonth(j),year:s.getYear(s.addYears(j,1))}}},R=D=>{if(!D)return V();const j=s.set(Y(),r.value[D]);return r.value[0].year=s.getYear(s.subYears(j,t.value.count-1)),V()},K=D=>c.focusStartDate?D[0]:D[1]?D[1]:D[0],y=()=>{if(a.value){const D=Array.isArray(a.value)?K(a.value):a.value;r.value[0]={month:s.getMonth(D),year:s.getYear(D)}}};e.onMounted(()=>{y(),t.value.count&&V()});const x=(D,j)=>{r.value[j].year=D,t.value.count&&!t.value.solo&&R(j)},T=e.computed(()=>D=>Ue(N.value,j=>{const Z=i.value(D)===j.value,S=Qe(j.value,je(o.value.minDate),je(o.value.maxDate)),te=At(n.value,j.value);return{active:Z,disabled:S,highlighted:te}})),L=(D,j)=>{x(D,j),B(j)},E=(D,j=!1)=>{if(!C.value(D,j)){const Z=j?i.value(D)+1:i.value(D)-1;x(Z,D)}},B=(D,j=!1,Z)=>{j||w("reset-flow"),Z!==void 0?k.value[D]=Z:k.value[D]=!k.value[D],k.value||w("overlay-closed")};return{isDisabled:C,groupedYears:T,showYearPicker:k,selectYear:x,toggleYearPicker:B,handleYearSelect:L,handleYear:E}},va=(t,n)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:c,defaultedRange:i,defaultedHighlight:p,propDates:w,defaultedTz:N}=de(t),{modelValue:k,year:C,month:V,calendars:R}=Je(t,n),K=e.computed(()=>Qt(t.formatLocale,t.locale,t.monthNameFormat)),y=e.ref(null),{selectYear:x,groupedYears:T,showYearPicker:L,toggleYearPicker:E,handleYearSelect:B,handleYear:D,isDisabled:j}=yn({modelValue:k,multiCalendars:o,highlight:p,calendars:R,year:C,propDates:w,month:V,props:t,emit:n});e.onMounted(()=>{t.startDate&&(k.value&&t.focusStartDate||!k.value)&&x(s.getYear(Y(t.startDate)),0)});const Z=b=>b?{month:s.getMonth(b),year:s.getYear(b)}:{month:null,year:null},S=()=>k.value?Array.isArray(k.value)?k.value.map(b=>Z(b)):Z(k.value):Z(),te=(b,l)=>{const M=R.value[b],H=S();return Array.isArray(H)?H.some(u=>u.year===(M==null?void 0:M.year)&&u.month===l):(M==null?void 0:M.year)===H.year&&l===H.month},ae=(b,l,M)=>{var u,X;const H=S();return Array.isArray(H)?C.value(l)===((u=H[M])==null?void 0:u.year)&&b===((X=H[M])==null?void 0:X.month):!1},v=(b,l)=>{if(i.value.enabled){const M=S();if(Array.isArray(k.value)&&Array.isArray(M)){const H=ae(b,l,0)||ae(b,l,1),u=Te(Me(Y()),b,C.value(l));return rt(k.value,y.value,u)&&!H}return!1}return!1},z=e.computed(()=>b=>Ue(K.value,l=>{const M=te(b,l.value),H=Qe(l.value,en(C.value(b),w.value.minDate),tn(C.value(b),w.value.maxDate))||On(w.value.disabledDates,C.value(b)).includes(l.value),u=v(l.value,b),X=sn(p.value,l.value,C.value(b));return{active:M,disabled:H,isBetween:u,highlighted:X}})),_=(b,l)=>Te(Me(Y()),b,C.value(l)),A=(b,l)=>{const M=k.value?k.value:Me(new Date);k.value=Te(M,b,C.value(l)),n("auto-apply"),n("update-flow-step")},J=(b,l)=>{let M=[];if(i.value.fixedEnd||i.value.fixedStart){const H=_(b,l);k.value=gn(H,k,n,i),M=k.value}else M=Yt(k,_(b,l),n);ct(M,n,t.autoApply,t.modelAuto)},d=(b,l)=>{Vt(_(b,l),k,t.multiDatesLimit),n("auto-apply",!0)},f=(b,l)=>(R.value[l].month=b,ee(l,R.value[l].year,b),t.multiDates?d(b,l):i.value.enabled?J(b,l):A(b,l)),q=(b,l)=>{x(b,l),ee(l,b,null)},ee=(b,l,M)=>{let H=M;if(!H&&H!==0){const u=S();H=Array.isArray(u)?u[b].month:u.month}n("update-month-year",{instance:b,year:l,month:H})};return{groupedMonths:z,groupedYears:T,year:C,isDisabled:j,defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:c,showYearPicker:L,modelValue:k,presetDate:(b,l)=>{pn({value:b,modelValue:k,range:i.value.enabled,timezone:l?void 0:N.value.timezone}),n("auto-apply")},setHoverDate:(b,l)=>{y.value=_(b,l)},selectMonth:f,selectYear:q,toggleYearPicker:E,handleYearSelect:B,handleYear:D,getModelMonthYear:S}},Ma=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Se},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(t,{expose:n,emit:o}){const r=o,a=e.useSlots(),c=be(a,"yearMode"),i=t;e.onMounted(()=>{i.shadow||r("mount",null)});const{groupedMonths:p,groupedYears:w,year:N,isDisabled:k,defaultedMultiCalendars:C,defaultedConfig:V,showYearPicker:R,modelValue:K,presetDate:y,setHoverDate:x,selectMonth:T,selectYear:L,toggleYearPicker:E,handleYearSelect:B,handleYear:D,getModelMonthYear:j}=va(i,r);return n({getSidebarProps:()=>({modelValue:K,year:N,getModelMonthYear:j,selectMonth:T,selectYear:L,handleYear:D}),presetDate:y,toggleYearPicker:S=>E(0,S)}),(S,te)=>(e.openBlock(),e.createBlock(ut,{"multi-calendars":e.unref(C).count,collapse:S.collapse,stretch:""},{default:e.withCtx(({instance:ae})=>[S.$slots["month-year"]?e.renderSlot(S.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{year:e.unref(N),months:e.unref(p)(ae),years:e.unref(w)(ae),selectMonth:e.unref(T),selectYear:e.unref(L),instance:ae}))):(e.openBlock(),e.createBlock(Ze,{key:1,items:e.unref(p)(ae),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!e.unref(V).keepActionRow,"esc-close":S.escClose,height:e.unref(V).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:v=>e.unref(T)(v,ae),onHoverValue:v=>e.unref(x)(v,ae)},{header:e.withCtx(()=>[e.createVNode(mn,e.mergeProps(S.$props,{items:e.unref(w)(ae),instance:ae,"show-year-picker":e.unref(R)[ae],year:e.unref(N)(ae),"is-disabled":v=>e.unref(k)(ae,v),onHandleYear:v=>e.unref(D)(ae,v),onYearSelect:v=>e.unref(B)(v,ae),onToggleYearPicker:v=>e.unref(E)(ae,v==null?void 0:v.flow,v==null?void 0:v.show)}),e.createSlots({_:2},[e.renderList(e.unref(c),(v,z)=>({name:v,fn:e.withCtx(_=>[e.renderSlot(S.$slots,v,e.normalizeProps(e.guardReactiveProps(_)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Da=(t,n)=>{const{modelValue:o}=Je(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedFilters:c,defaultedRange:i,propDates:p}=de(t),w=e.ref();e.onMounted(()=>{t.startDate&&(o.value&&t.focusStartDate||!o.value)&&(w.value=s.getYear(Y(t.startDate)))});const N=y=>Array.isArray(o.value)?o.value.some(x=>s.getYear(x)===y):o.value?s.getYear(o.value)===y:!1,k=y=>i.value.enabled&&Array.isArray(o.value)?rt(o.value,r.value,V(y)):!1,C=e.computed(()=>Ue(bt(t.yearRange,t.reverseYears),y=>{const x=N(y.value),T=Qe(y.value,je(p.value.minDate),je(p.value.maxDate))||c.value.years.includes(y.value),L=k(y.value)&&!x,E=At(a.value,y.value);return{active:x,disabled:T,isBetween:L,highlighted:E}})),V=y=>s.setYear(Me(new Date),y);return{groupedYears:C,modelValue:o,focusYear:w,setHoverValue:y=>{r.value=s.setYear(Me(new Date),y)},selectYear:y=>{var x;if(n("update-month-year",{instance:0,year:y}),t.multiDates)return o.value?Array.isArray(o.value)&&(((x=o.value)==null?void 0:x.map(L=>s.getYear(L))).includes(y)?o.value=o.value.filter(L=>s.getYear(L)!==y):o.value.push(s.setYear(ke(Y()),y))):o.value=[s.setYear(ke(Y()),y)],n("auto-apply",!0);if(i.value.enabled){const T=Yt(o,V(y),n);return ct(T,n,t.autoApply,t.modelAuto)}o.value=V(y),n("auto-apply")}}},Sa=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Se},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:o}){const r=o,a=t,{groupedYears:c,modelValue:i,focusYear:p,selectYear:w,setHoverValue:N}=Da(a,r),{defaultedConfig:k}=de(a);return n({getSidebarProps:()=>({modelValue:i,selectYear:w})}),(V,R)=>(e.openBlock(),e.createElementBlock("div",null,[V.$slots["month-year"]?e.renderSlot(V.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{years:e.unref(c),selectYear:e.unref(w)}))):(e.openBlock(),e.createBlock(Ze,{key:1,items:e.unref(c),"is-last":V.autoApply&&!e.unref(k).keepActionRow,height:e.unref(k).modeHeight,config:V.config,"no-overlay-focus":!!(V.noOverlayFocus||V.textInput),"focus-value":e.unref(p),type:"year","use-relative":"",onSelected:e.unref(w),onHoverValue:e.unref(N)},e.createSlots({_:2},[V.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:K})=>[e.renderSlot(V.$slots,"year-overlay-value",{text:K.text,value:K.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ca={key:0,class:"dp__time_input"},Ba=["aria-label","onKeydown","onClick"],$a=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Aa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ta=["aria-label","disabled","onKeydown","onClick"],Pa=["aria-label","onKeydown","onClick"],Ra=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Na=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ea={key:0},_a=["aria-label","onKeydown"],Va=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Se},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{setTimePickerElements:c,setTimePickerBackRef:i}=_e(),{defaultedAriaLabels:p,defaultedTransitions:w,defaultedFilters:N,defaultedConfig:k,defaultedRange:C}=de(a),{transitionName:V,showTransition:R}=Xe(w),K=e.reactive({hours:!1,minutes:!1,seconds:!1}),y=e.ref("AM"),x=e.ref(null),T=e.ref([]);e.onMounted(()=>{r("mounted")});const L=m=>s.set(new Date,{hours:m.hours,minutes:m.minutes,seconds:a.enableSeconds?m.seconds:0,milliseconds:0}),E=e.computed(()=>m=>J(m,a[m])||D(m,a[m])),B=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),D=(m,Q)=>C.value.enabled&&!C.value.disableTimeRangeValidation?!a.validateTime(m,Q):!1,j=(m,Q)=>{if(C.value.enabled&&!C.value.disableTimeRangeValidation){const se=Q?+a[`${m}Increment`]:-+a[`${m}Increment`],I=a[m]+se;return!a.validateTime(m,I)}return!1},Z=e.computed(()=>m=>!ee(+a[m]+ +a[`${m}Increment`],m)||j(m,!0)),S=e.computed(()=>m=>!ee(+a[m]-+a[`${m}Increment`],m)||j(m,!1)),te=(m,Q)=>s.add(s.set(Y(),m),Q),ae=(m,Q)=>s.sub(s.set(Y(),m),Q),v=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),z=e.computed(()=>{const m=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return a.enableSeconds?m.concat([{type:"",separator:!0},{type:"seconds"}]):m}),_=e.computed(()=>z.value.filter(m=>!m.separator)),A=e.computed(()=>m=>{if(m==="hours"){const Q=M(+a.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:a[m]<10?`0${a[m]}`:`${a[m]}`,value:a[m]}}),J=(m,Q)=>{var I;if(!a.disabledTimesConfig)return!1;const se=a.disabledTimesConfig(a.order,m==="hours"?Q:void 0);return se[m]?!!((I=se[m])!=null&&I.includes(Q)):!0},d=m=>{const Q=a.is24?24:12,se=m==="hours"?Q:60,I=+a[`${m}GridIncrement`],$=m==="hours"&&!a.is24?I:0,W=[];for(let oe=$;oe<se;oe+=I)W.push({value:oe,text:oe<10?`0${oe}`:`${oe}`});return m==="hours"&&!a.is24&&W.push({value:0,text:"12"}),Ue(W,oe=>({active:!1,disabled:N.value.times[m].includes(oe.value)||!ee(oe.value,m)||J(m,oe.value)||D(m,oe.value)}))},f=m=>m>=0?m:59,q=m=>m>=0?m:23,ee=(m,Q)=>{const se=a.minTime?L(Dt(a.minTime)):null,I=a.maxTime?L(Dt(a.maxTime)):null,$=L(Dt(B.value,Q,Q==="minutes"||Q==="seconds"?f(m):q(m)));return se&&I?(s.isBefore($,I)||s.isEqual($,I))&&(s.isAfter($,se)||s.isEqual($,se)):se?s.isAfter($,se)||s.isEqual($,se):I?s.isBefore($,I)||s.isEqual($,I):!0},O=m=>a[`no${m[0].toUpperCase()+m.slice(1)}Overlay`],g=m=>{O(m)||(K[m]=!K[m],K[m]||r("overlay-closed"))},b=m=>m==="hours"?s.getHours:m==="minutes"?s.getMinutes:s.getSeconds,l=(m,Q=!0)=>{const se=Q?te:ae,I=Q?+a[`${m}Increment`]:-+a[`${m}Increment`];ee(+a[m]+I,m)&&r(`update:${m}`,b(m)(se({[m]:+a[m]},{[m]:+a[`${m}Increment`]})))},M=m=>a.is24?m:(m>=12?y.value="PM":y.value="AM",Sn(m)),H=()=>{y.value==="PM"?(y.value="AM",r("update:hours",a.hours-12)):(y.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",y.value)},u=m=>{K[m]=!0},X=(m,Q,se)=>{if(m&&a.arrowNavigation){Array.isArray(T.value[Q])?T.value[Q][se]=m:T.value[Q]=[m];const I=T.value.reduce(($,W)=>W.map((oe,ue)=>[...$[ue]||[],W[ue]]),[]);i(a.closeTimePickerBtn),x.value&&(I[1]=I[1].concat(x.value)),c(I,a.order)}},F=(m,Q)=>(g(m),m==="hours"&&!a.is24?r(`update:${m}`,y.value==="PM"?Q+12:Q):r(`update:${m}`,Q));return n({openChildCmp:u}),(m,Q)=>{var se;return m.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ca,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.value,(I,$)=>{var W,oe,ue;return e.openBlock(),e.createElementBlock("div",{key:$,class:e.normalizeClass(v.value)},[I.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:U=>X(U,$,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!m.timePickerInline,dp__inc_dec_button_inline:m.timePickerInline,dp__tp_inline_btn_top:m.timePickerInline,dp__inc_dec_button_disabled:Z.value(I.type)}),"aria-label":(W=e.unref(p))==null?void 0:W.incrementValue(I.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(U=>l(I.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(U=>l(I.type),["prevent"]),["space"])],onClick:U=>l(I.type)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[$a,Aa],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[m.$slots["arrow-up"]?e.renderSlot(m.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ht),{key:1}))],64))],42,Ba),e.createElementVNode("button",{ref_for:!0,ref:U=>X(U,$,1),type:"button","aria-label":(oe=e.unref(p))==null?void 0:oe.openTpOverlay(I.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!m.timePickerInline,dp__time_display_inline:m.timePickerInline,"dp--time-invalid":E.value(I.type),"dp--time-overlay-btn":!E.value(I.type)}),disabled:O(I.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(U=>g(I.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(U=>g(I.type),["prevent"]),["space"])],onClick:U=>g(I.type)},[m.$slots[I.type]?e.renderSlot(m.$slots,I.type,{key:0,text:A.value(I.type).text,value:A.value(I.type).value}):e.createCommentVNode("",!0),m.$slots[I.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.value(I.type).text),1)],64))],42,Ta),e.createElementVNode("button",{ref_for:!0,ref:U=>X(U,$,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!m.timePickerInline,dp__inc_dec_button_inline:m.timePickerInline,dp__tp_inline_btn_bottom:m.timePickerInline,dp__inc_dec_button_disabled:S.value(I.type)}),"aria-label":(ue=e.unref(p))==null?void 0:ue.decrementValue(I.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(U=>l(I.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(U=>l(I.type,!1),["prevent"]),["space"])],onClick:U=>l(I.type,!1)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Ra,Na],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[m.$slots["arrow-down"]?e.renderSlot(m.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))],64))],42,Pa)],64))],2)}),128)),m.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ea,[m.$slots["am-pm-button"]?e.renderSlot(m.$slots,"am-pm-button",{key:0,toggle:H,value:y.value}):e.createCommentVNode("",!0),m.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:x,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(se=e.unref(p))==null?void 0:se.amPmButton,tabindex:"0",onClick:H,onKeydown:[e.withKeys(e.withModifiers(H,["prevent"]),["enter"]),e.withKeys(e.withModifiers(H,["prevent"]),["space"])]},e.toDisplayString(y.value),41,_a))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.value,(I,$)=>(e.openBlock(),e.createBlock(e.Transition,{key:$,name:e.unref(V)(K[I.type]),css:e.unref(R)},{default:e.withCtx(()=>[K[I.type]?(e.openBlock(),e.createBlock(Ze,{key:0,items:d(I.type),"is-last":m.autoApply&&!e.unref(k).keepActionRow,"esc-close":m.escClose,type:I.type,"text-input":m.textInput,config:m.config,"arrow-navigation":m.arrowNavigation,onSelected:W=>F(I.type,W),onToggle:W=>g(I.type),onResetFlow:Q[0]||(Q[0]=W=>m.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[m.$slots["clock-icon"]?e.renderSlot(m.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m.timePickerInline?e.unref(We):e.unref(yt)),{key:1}))]),_:2},[m.$slots[`${I.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:W})=>[e.renderSlot(m.$slots,`${I.type}-overlay-value`,{text:W.text,value:W.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Ya={class:"dp--tp-wrap"},Oa=["aria-label","tabindex"],Ia=["tabindex"],za=["aria-label"],hn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Se},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMatrix:c,setTimePicker:i}=_e(),p=e.useSlots(),{defaultedTransitions:w,defaultedAriaLabels:N,defaultedTextInput:k,defaultedConfig:C,defaultedRange:V}=de(a),{transitionName:R,showTransition:K}=Xe(w),{hideNavigationButtons:y}=st(),x=e.ref(null),T=e.ref(null),L=e.ref([]),E=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?c([ge(x.value)],"time"):i(!0,a.timePicker)});const B=e.computed(()=>V.value.enabled&&a.modelAuto?Gt(a.internalModelValue):!0),D=e.ref(!1),j=d=>({hours:Array.isArray(a.hours)?a.hours[d]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[d]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[d]:a.seconds}),Z=e.computed(()=>{const d=[];if(V.value.enabled)for(let f=0;f<2;f++)d.push(j(f));else d.push(j(0));return d}),S=(d,f=!1,q="")=>{f||r("reset-flow"),D.value=d,r(d?"overlay-opened":"overlay-closed"),a.arrowNavigation&&i(d),e.nextTick(()=>{q!==""&&L.value[0]&&L.value[0].openChildCmp(q)})},te=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!C.value.keepActionRow})),ae=be(p,"timePicker"),v=(d,f,q)=>V.value.enabled?f===0?[d,Z.value[1][q]]:[Z.value[0][q],d]:d,z=d=>{r("update:hours",d)},_=d=>{r("update:minutes",d)},A=d=>{r("update:seconds",d)},J=()=>{if(E.value&&!k.value.enabled&&!a.noOverlayFocus){const d=Zt(E.value);d&&d.focus({preventScroll:!0})}};return n({toggleTimePicker:S}),(d,f)=>{var q;return e.openBlock(),e.createElementBlock("div",Ya,[!d.timePicker&&!d.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:x,type:"button",class:e.normalizeClass(te.value),"aria-label":(q=e.unref(N))==null?void 0:q.openTimePicker,tabindex:d.noOverlayFocus?void 0:0,onKeydown:[f[0]||(f[0]=e.withKeys(ee=>S(!0),["enter"])),f[1]||(f[1]=e.withKeys(ee=>S(!0),["space"]))],onClick:f[2]||(f[2]=ee=>S(!0))},[d.$slots["clock-icon"]?e.renderSlot(d.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),d.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(yt),{key:1}))],42,Oa)),[[e.vShow,!e.unref(y)(d.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(R)(D.value),css:e.unref(K)&&!d.timePickerInline},{default:e.withCtx(()=>{var ee;return[D.value||d.timePicker||d.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:E,class:e.normalizeClass({dp__overlay:!d.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!d.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(d.timePicker?{height:`${e.unref(C).modeHeight}px`}:void 0),tabindex:d.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(d.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[d.$slots["time-picker-overlay"]?e.renderSlot(d.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:z,setMinutes:_,setSeconds:A}):e.createCommentVNode("",!0),d.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(d.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Z.value,(O,g)=>e.withDirectives((e.openBlock(),e.createBlock(Va,e.mergeProps({key:g},{...d.$props,order:g,hours:O.hours,minutes:O.minutes,seconds:O.seconds,closeTimePickerBtn:T.value,disabledTimesConfig:t.disabledTimesConfig,disabled:g===0?d.fixedStart:d.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:L,"validate-time":(b,l)=>t.validateTime(b,v(l,g,b)),"onUpdate:hours":b=>z(v(b,g,"hours")),"onUpdate:minutes":b=>_(v(b,g,"minutes")),"onUpdate:seconds":b=>A(v(b,g,"seconds")),onMounted:J,onOverlayClosed:J,onAmPmChange:f[3]||(f[3]=b=>d.$emit("am-pm-change",b))}),e.createSlots({_:2},[e.renderList(e.unref(ae),(b,l)=>({name:b,fn:e.withCtx(M=>[e.renderSlot(d.$slots,b,e.normalizeProps(e.guardReactiveProps(M)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,g===0?!0:B.value]])),128))],2)),!d.timePicker&&!d.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:T,type:"button",class:e.normalizeClass(te.value),"aria-label":(ee=e.unref(N))==null?void 0:ee.closeTimePicker,tabindex:"0",onKeydown:[f[4]||(f[4]=e.withKeys(O=>S(!1),["enter"])),f[5]||(f[5]=e.withKeys(O=>S(!1),["space"]))],onClick:f[6]||(f[6]=O=>S(!1))},[d.$slots["calendar-icon"]?e.renderSlot(d.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),d.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))],42,za)),[[e.vShow,!e.unref(y)(d.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Ia)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),kn=(t,n,o,r)=>{const{defaultedRange:a}=de(t),c=(E,B)=>Array.isArray(n[E])?n[E][B]:n[E],i=E=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[E]:n.seconds:0,p=(E,B)=>E?B!==void 0?Ne(E,c("hours",B),c("minutes",B),i(B)):Ne(E,n.hours,n.minutes,i()):s.setSeconds(Y(),i(B)),w=(E,B)=>{n[E]=B},N=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:a.value.enabled),k=(E,B)=>{const D=Object.fromEntries(Object.keys(n).map(j=>j===E?[j,B]:[j,n[j]].slice()));if(N.value&&!a.value.disableTimeRangeValidation){const j=S=>o.value?Ne(o.value[S],D.hours[S],D.minutes[S],D.seconds[S]):null,Z=S=>s.setMilliseconds(o.value[S],0);return!(ie(j(0),j(1))&&(s.isAfter(j(0),Z(1))||s.isBefore(j(1),Z(0))))}return!0},C=(E,B)=>{k(E,B)&&(w(E,B),r&&r())},V=E=>{C("hours",E)},R=E=>{C("minutes",E)},K=E=>{C("seconds",E)},y=(E,B,D,j)=>{B&&V(E),!B&&!D&&R(E),D&&K(E),o.value&&j(o.value)},x=E=>{if(E){const B=Array.isArray(E),D=B?[+E[0].hours,+E[1].hours]:+E.hours,j=B?[+E[0].minutes,+E[1].minutes]:+E.minutes,Z=B?[+E[0].seconds,+E[1].seconds]:+E.seconds;w("hours",D),w("minutes",j),t.enableSeconds&&w("seconds",Z)}},T=(E,B)=>{const D={hours:Array.isArray(n.hours)?n.hours[E]:n.hours,disabledArr:[]};return(B||B===0)&&(D.hours=B),Array.isArray(t.disabledTimes)&&(D.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[E])?t.disabledTimes[E]:t.disabledTimes),D},L=e.computed(()=>(E,B)=>{var D;if(Array.isArray(t.disabledTimes)){const{disabledArr:j,hours:Z}=T(E,B),S=j.filter(te=>+te.hours===Z);return((D=S[0])==null?void 0:D.minutes)==="*"?{hours:[Z],minutes:void 0,seconds:void 0}:{hours:[],minutes:(S==null?void 0:S.map(te=>+te.minutes))??[],seconds:(S==null?void 0:S.map(te=>te.seconds?+te.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:w,updateHours:V,updateMinutes:R,updateSeconds:K,getSetDateTime:p,updateTimeValues:y,getSecondsValue:i,assignStartTime:x,validateTime:k,disabledTimesConfig:L}},La=(t,n)=>{const{modelValue:o,time:r}=Je(t,n),{defaultedStartTime:a,defaultedRange:c}=de(t),{updateTimeValues:i,getSetDateTime:p,setTime:w,assignStartTime:N,disabledTimesConfig:k,validateTime:C}=kn(t,r,o),V=B=>{const{hours:D,minutes:j,seconds:Z}=B;return{hours:+D,minutes:+j,seconds:Z?+Z:0}},R=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const D=V(t.startTime[0]),j=V(t.startTime[1]);return[s.set(Y(),D),s.set(Y(),j)]}const B=V(t.startTime);return s.set(Y(),B)}return c.value.enabled?[null,null]:null},K=()=>{if(c.value.enabled){const[B,D]=R();o.value=[p(B,0),p(D,1)]}else o.value=p(R())},y=B=>Array.isArray(B)?[Oe(Y(B[0])),Oe(Y(B[1]))]:[Oe(B??Y())],x=(B,D,j)=>{w("hours",B),w("minutes",D),w("seconds",t.enableSeconds?j:0)},T=()=>{const[B,D]=y(o.value);return c.value.enabled?x([B.hours,D.hours],[B.minutes,D.minutes],[B.seconds,D.minutes]):x(B.hours,B.minutes,B.seconds)};e.onMounted(()=>{if(!t.shadow)return N(a.value),o.value?T():K()});const L=()=>{Array.isArray(o.value)?o.value=o.value.map((B,D)=>B&&p(B,D)):o.value=p(o.value),n("time-update")};return{modelValue:o,time:r,disabledTimesConfig:k,updateTime:(B,D=!0,j=!1)=>{i(B,D,j,L)},validateTime:C}},Ka=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Se},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.useSlots(),i=be(c,"timePicker"),{time:p,modelValue:w,disabledTimesConfig:N,updateTime:k,validateTime:C}=La(a,r);return n({getSidebarProps:()=>({modelValue:w,time:p,updateTime:k})}),(R,K)=>(e.openBlock(),e.createBlock(ut,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(hn,e.mergeProps(R.$props,{hours:e.unref(p).hours,minutes:e.unref(p).minutes,seconds:e.unref(p).seconds,"internal-model-value":R.internalModelValue,"disabled-times-config":e.unref(N),"validate-time":e.unref(C),"onUpdate:hours":K[0]||(K[0]=y=>e.unref(k)(y)),"onUpdate:minutes":K[1]||(K[1]=y=>e.unref(k)(y,!1)),"onUpdate:seconds":K[2]||(K[2]=y=>e.unref(k)(y,!1,!0)),onAmPmChange:K[3]||(K[3]=y=>R.$emit("am-pm-change",y))}),e.createSlots({_:2},[e.renderList(e.unref(i),(y,x)=>({name:y,fn:e.withCtx(T=>[e.renderSlot(R.$slots,y,e.normalizeProps(e.guardReactiveProps(T)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Ha={class:"dp__month_year_row"},Wa=["aria-label","onClick","onKeydown"],Ua=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Se},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTransitions:c,defaultedAriaLabels:i,defaultedMultiCalendars:p,defaultedFilters:w,defaultedConfig:N,defaultedHighlight:k,propDates:C}=de(a),{transitionName:V,showTransition:R}=Xe(c),{buildMatrix:K}=_e(),{handleMonthYearChange:y,isDisabled:x,updateMonthYear:T}=ta(a,r),{showLeftIcon:L,showRightIcon:E}=st(),B=e.ref(!1),D=e.ref(!1),j=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const Z=g=>({get:()=>a[g],set:b=>{const l=g===De.month?De.year:De.month;r("update-month-year",{[g]:b,[l]:a[l]}),g===De.month?J(!0):d(!0)}}),S=e.computed(Z(De.month)),te=e.computed(Z(De.year)),ae=e.computed(()=>g=>({month:a.month,year:a.year,items:g===De.month?a.months:a.years,instance:a.instance,updateMonthYear:T,toggle:g===De.month?J:d})),v=e.computed(()=>{const g=a.months.find(b=>b.value===a.month);return g||{text:"",value:0}}),z=e.computed(()=>Ue(a.months,g=>{const b=a.month===g.value,l=Qe(g.value,en(a.year,C.value.minDate),tn(a.year,C.value.maxDate))||w.value.months.includes(g.value),M=sn(k.value,g.value,a.year);return{active:b,disabled:l,highlighted:M}})),_=e.computed(()=>Ue(a.years,g=>{const b=a.year===g.value,l=Qe(g.value,je(C.value.minDate),je(C.value.maxDate))||w.value.years.includes(g.value),M=At(k.value,g.value);return{active:b,disabled:l,highlighted:M}})),A=(g,b)=>{b!==void 0?g.value=b:g.value=!g.value,g.value||r("overlay-closed")},J=(g=!1,b)=>{f(g),A(B,b)},d=(g=!1,b)=>{f(g),A(D,b)},f=g=>{g||r("reset-flow")},q=(g,b)=>{a.arrowNavigation&&(j.value[b]=ge(g),K(j.value,"monthYear"))},ee=e.computed(()=>{var g,b;return[{type:De.month,index:1,toggle:J,modelValue:S.value,updateModelValue:l=>S.value=l,text:v.value.text,showSelectionGrid:B.value,items:z.value,ariaLabel:(g=i.value)==null?void 0:g.openMonthsOverlay},{type:De.year,index:2,toggle:d,modelValue:te.value,updateModelValue:l=>te.value=l,text:a.year,showSelectionGrid:D.value,items:_.value,ariaLabel:(b=i.value)==null?void 0:b.openYearsOverlay}]}),O=e.computed(()=>a.disableYearSelect?[ee.value[0]]:a.yearFirst?[...ee.value].reverse():ee.value);return n({toggleMonthPicker:J,toggleYearPicker:d,handleMonthYearChange:y}),(g,b)=>{var l,M,H;return e.openBlock(),e.createElementBlock("div",Ha,[g.$slots["month-year"]?e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(T),handleMonthYearChange:e.unref(y),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(L)(e.unref(p),t.instance)&&!g.vertical?(e.openBlock(),e.createBlock(Fe,{key:0,"aria-label":(l=e.unref(i))==null?void 0:l.prevMonth,disabled:e.unref(x)(!1),onActivate:b[0]||(b[0]=u=>e.unref(y)(!1,!0)),onSetRef:b[1]||(b[1]=u=>q(u,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(pt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:g.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.value,(u,X)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:u.type},[e.createElementVNode("button",{ref_for:!0,ref:F=>q(F,X+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":u.ariaLabel,onClick:u.toggle,onKeydown:[e.withKeys(e.withModifiers(u.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(u.toggle,["prevent"]),["space"])]},[g.$slots[u.type]?e.renderSlot(g.$slots,u.type,{key:0,text:u.text,value:a[u.type]}):e.createCommentVNode("",!0),g.$slots[u.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(u.text),1)],64))],40,Wa),e.createVNode(e.Transition,{name:e.unref(V)(u.showSelectionGrid),css:e.unref(R)},{default:e.withCtx(()=>[u.showSelectionGrid?(e.openBlock(),e.createBlock(Ze,{key:0,items:u.items,"arrow-navigation":g.arrowNavigation,"hide-navigation":g.hideNavigation,"is-last":g.autoApply&&!e.unref(N).keepActionRow,"skip-button-ref":!1,config:g.config,type:u.type,"header-refs":[],"esc-close":g.escClose,"menu-wrap-ref":g.menuWrapRef,"text-input":g.textInput,onSelected:u.updateModelValue,onToggle:u.toggle},e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[g.$slots[`${u.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:F})=>[e.renderSlot(g.$slots,`${u.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0,g.$slots[`${u.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${u.type}-overlay`,e.normalizeProps(e.guardReactiveProps(ae.value(u.type))))]),key:"1"}:void 0,g.$slots[`${u.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${u.type}-overlay-header`,{toggle:u.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(L)(e.unref(p),t.instance)&&g.vertical?(e.openBlock(),e.createBlock(Fe,{key:1,"aria-label":(M=e.unref(i))==null?void 0:M.prevMonth,disabled:e.unref(x)(!1),onActivate:b[2]||(b[2]=u=>e.unref(y)(!1,!0))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ht),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(E)(e.unref(p),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:2,ref:"rightIcon",disabled:e.unref(x)(!0),"aria-label":(H=e.unref(i))==null?void 0:H.nextMonth,onActivate:b[3]||(b[3]=u=>e.unref(y)(!0,!0)),onSetRef:b[4]||(b[4]=u=>q(u,g.disableYearSelect?2:3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(kt):e.unref(gt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),ja=["aria-label"],xa={class:"dp__calendar_header",role:"row"},qa={key:0,class:"dp__calendar_header_item",role:"gridcell"},Qa=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Ga=["aria-label"],Xa={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Ja={class:"dp__cell_inner"},Za=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Fa=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Se},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMultiLevelMatrix:c}=_e(),{defaultedTransitions:i,defaultedConfig:p,defaultedAriaLabels:w,defaultedMultiCalendars:N,defaultedWeekNumbers:k}=de(a),C=e.ref(null),V=e.ref({bottom:"",left:"",transform:""}),R=e.ref([]),K=e.ref(null),y=e.ref(!0),x=e.ref(""),T=e.ref({startX:0,endX:0,startY:0,endY:0}),L=e.ref([]),E=e.ref({left:"50%"}),B=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),D=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Dn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:R}),p.value.noSwipe||K.value&&(K.value.addEventListener("touchstart",d,{passive:!1}),K.value.addEventListener("touchend",f,{passive:!1}),K.value.addEventListener("touchmove",q,{passive:!1})),a.monthChangeOnScroll&&K.value&&K.value.addEventListener("wheel",g,{passive:!1})});const j=u=>u?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",Z=(u,X)=>{if(a.transitions){const F=ke(Te(Y(),a.month,a.year));x.value=me(ke(Te(Y(),u,X)),F)?i.value[j(!0)]:i.value[j(!1)],y.value=!1,e.nextTick(()=>{y.value=!0})}},S=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),te=e.computed(()=>u=>{const X=Cn(u);return{dp__marker_dot:X.type==="dot",dp__marker_line:X.type==="line"}}),ae=e.computed(()=>u=>ie(u,C.value)),v=e.computed(()=>({dp__calendar:!0,dp__calendar_next:N.value.count>0&&a.instance!==0})),z=e.computed(()=>u=>a.hideOffsetDates?u.current:!0),_=u=>s.format(u,"yyyy-MM-dd"),A=async(u,X,F)=>{var m,Q;if(r("set-hover-date",u),(Q=(m=u.marker)==null?void 0:m.tooltip)!=null&&Q.length){const se=ge(R.value[X][F]);if(se){const{width:I,height:$}=se.getBoundingClientRect();C.value=u.value;let W={left:`${I/2}px`},oe=-50;if(await e.nextTick(),L.value[0]){const{left:ue,width:U}=L.value[0].getBoundingClientRect();ue<0&&(W={left:"0"},oe=0,E.value.left=`${I/2}px`),window.innerWidth<ue+U&&(W={right:"0"},oe=0,E.value.left=`${U-I/2}px`)}V.value={bottom:`${$}px`,...W,transform:`translateX(${oe}%)`},r("tooltip-open",u.marker)}}},J=u=>{C.value&&(C.value=null,V.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",u.marker))},d=u=>{T.value.startX=u.changedTouches[0].screenX,T.value.startY=u.changedTouches[0].screenY},f=u=>{T.value.endX=u.changedTouches[0].screenX,T.value.endY=u.changedTouches[0].screenY,ee()},q=u=>{a.vertical&&!a.inline&&u.preventDefault()},ee=()=>{const u=a.vertical?"Y":"X";Math.abs(T.value[`start${u}`]-T.value[`end${u}`])>10&&r("handle-swipe",T.value[`start${u}`]>T.value[`end${u}`]?"right":"left")},O=(u,X,F)=>{u&&(Array.isArray(R.value[X])?R.value[X][F]=u:R.value[X]=[u]),a.arrowNavigation&&c(R.value,"calendar")},g=u=>{a.monthChangeOnScroll&&(u.preventDefault(),r("handle-scroll",u))},b=u=>k.value.type==="local"?s.getWeek(u.value,{weekStartsOn:+a.weekStart}):k.value.type==="iso"?s.getISOWeek(u.value):typeof k.value.type=="function"?k.value.type(u.value):"",l=u=>{const X=u[0];return k.value.hideOnOffsetDates?u.some(F=>F.current)?b(X):"":b(X)},M=(u,X)=>{Re(u,p.value),r("select-date",X)},H=u=>{Re(u,p.value)};return n({triggerTransition:Z}),(u,X)=>{var F;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(v.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:K,role:"grid",class:e.normalizeClass(S.value),"aria-label":(F=e.unref(w))==null?void 0:F.calendarWrap},[e.createElementVNode("div",xa,[u.weekNumbers?(e.openBlock(),e.createElementBlock("div",qa,e.toDisplayString(u.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(m,Q)=>(e.openBlock(),e.createElementBlock("div",{key:Q,class:"dp__calendar_header_item",role:"gridcell"},[u.$slots["calendar-header"]?e.renderSlot(u.$slots,"calendar-header",{key:0,day:m,index:Q}):e.createCommentVNode("",!0),u.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(m),1)],64))]))),128))]),Qa,e.createVNode(e.Transition,{name:x.value,css:!!u.transitions},{default:e.withCtx(()=>{var m;return[y.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((m=e.unref(w))==null?void 0:m.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,(Q,se)=>(e.openBlock(),e.createElementBlock("div",{key:se,class:"dp__calendar_row",role:"row"},[u.weekNumbers?(e.openBlock(),e.createElementBlock("div",Xa,[e.createElementVNode("div",Ja,e.toDisplayString(l(Q.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Q.days,(I,$)=>{var W,oe,ue;return e.openBlock(),e.createElementBlock("div",{id:_(I.value),ref_for:!0,ref:U=>O(U,se,$),key:$+se,role:"gridcell",class:"dp__calendar_item","aria-selected":(I.classData.dp__active_date||I.classData.dp__range_start||I.classData.dp__range_start)??void 0,"aria-disabled":I.classData.dp__cell_disabled||void 0,"aria-label":(oe=(W=e.unref(w))==null?void 0:W.day)==null?void 0:oe.call(W,I),tabindex:"0",onClick:e.withModifiers(U=>M(U,I),["prevent"]),onKeydown:[e.withKeys(U=>u.$emit("select-date",I),["enter"]),e.withKeys(U=>u.$emit("handle-space",I),["space"])],onMouseenter:U=>A(I,se,$),onMouseleave:U=>J(I)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",I.classData])},[u.$slots.day&&z.value(I)?e.renderSlot(u.$slots,"day",{key:0,day:+I.text,date:I.value}):e.createCommentVNode("",!0),u.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(I.text),1)],64)),I.marker&&z.value(I)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[u.$slots.marker?e.renderSlot(u.$slots,"marker",{key:0,marker:I.marker,day:+I.text,date:I.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(te.value(I.marker)),style:e.normalizeStyle(I.marker.color?{backgroundColor:I.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),ae.value(I.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:L,class:"dp__marker_tooltip",style:e.normalizeStyle(V.value)},[(ue=I.marker)!=null&&ue.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:H},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.marker.tooltip,(U,Ce)=>(e.openBlock(),e.createElementBlock("div",{key:Ce,class:"dp__tooltip_text"},[u.$slots["marker-tooltip"]?e.renderSlot(u.$slots,"marker-tooltip",{key:0,tooltip:U,day:I.value}):e.createCommentVNode("",!0),u.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(U.color?{backgroundColor:U.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(U.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(E.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Za)}),128))]))),128))],8,Ga)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,ja)],2)}}}),bn=t=>Array.isArray(t),er=(t,n,o,r)=>{const a=e.ref([]),c=e.ref(new Date),{modelValue:i,calendars:p,time:w}=Je(t,n),{defaultedMultiCalendars:N,defaultedStartTime:k,defaultedRange:C,defaultedTz:V,propDates:R}=de(t),{validateMonthYearInRange:K,isDisabled:y,isDateRangeAllowed:x,checkMinMaxRange:T}=Le(t),{updateTimeValues:L,getSetDateTime:E,setTime:B,assignStartTime:D,validateTime:j,disabledTimesConfig:Z}=kn(t,w,i,r),S=e.computed(()=>h=>p.value[h]?p.value[h].month:0),te=e.computed(()=>h=>p.value[h]?p.value[h].year:0),ae=(h,G,re)=>{var P,ne;p.value[h]||(p.value[h]={month:0,year:0}),p.value[h].month=Jt(G)?(P=p.value[h])==null?void 0:P.month:G,p.value[h].year=Jt(re)?(ne=p.value[h])==null?void 0:ne.year:re},v=()=>{t.autoApply&&n("select-date")};e.watch(i,(h,G)=>{JSON.stringify(h)!==JSON.stringify(G)&&A()},{deep:!0}),e.onMounted(()=>{t.shadow||(i.value||(H(),k.value&&D(k.value)),A(!0),t.focusStartDate&&t.startDate&&H())});const z=e.computed(()=>{var h;return(h=t.flow)!=null&&h.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),_=()=>{t.autoApply&&z.value&&n("auto-apply",t.partialFlow)},A=(h=!1)=>{if(i.value)return Array.isArray(i.value)?(a.value=i.value,g(h)):f(i.value,h);if(N.value.count&&h&&!t.startDate)return d(Y(),h)},J=()=>Array.isArray(i.value)&&C.value.enabled?s.getMonth(i.value[0])===s.getMonth(i.value[1]??i.value[0]):!1,d=(h,G=!1)=>{if((!N.value.count||!N.value.static||G)&&ae(0,s.getMonth(h),s.getYear(h)),N.value.count&&(!N.value.solo||!i.value||J()))for(let re=1;re<N.value.count;re++){const P=s.set(Y(),{month:S.value(re-1),year:te.value(re-1)}),ne=s.add(P,{months:1});p.value[re]={month:s.getMonth(ne),year:s.getYear(ne)}}},f=(h,G)=>{d(h),B("hours",s.getHours(h)),B("minutes",s.getMinutes(h)),B("seconds",s.getSeconds(h)),N.value.count&&G&&M()},q=h=>{if(N.value.count){if(N.value.solo)return 0;const G=s.getMonth(h[0]),re=s.getMonth(h[1]);return Math.abs(re-G)<N.value.count?0:1}return 1},ee=(h,G)=>{h[1]&&C.value.showLastInRange?d(h[q(h)],G):d(h[0],G);const re=(P,ne)=>[P(h[0]),h[1]?P(h[1]):w[ne][1]];B("hours",re(s.getHours,"hours")),B("minutes",re(s.getMinutes,"minutes")),B("seconds",re(s.getSeconds,"seconds"))},O=(h,G)=>{if((C.value.enabled||t.weekPicker)&&!t.multiDates)return ee(h,G);if(t.multiDates&&G){const re=h[h.length-1];return f(re,G)}},g=h=>{const G=i.value;O(G,h),N.value.count&&N.value.solo&&M()},b=(h,G)=>{const re=s.set(Y(),{month:S.value(G),year:te.value(G)}),P=h<0?s.addMonths(re,1):s.subMonths(re,1);K(s.getMonth(P),s.getYear(P),h<0,t.preventMinMaxNavigation)&&(ae(G,s.getMonth(P),s.getYear(P)),n("update-month-year",{instance:G,month:s.getMonth(P),year:s.getYear(P)}),N.value.count&&!N.value.solo&&l(G),o())},l=h=>{for(let G=h-1;G>=0;G--){const re=s.subMonths(s.set(Y(),{month:S.value(G+1),year:te.value(G+1)}),1);ae(G,s.getMonth(re),s.getYear(re))}for(let G=h+1;G<=N.value.count-1;G++){const re=s.addMonths(s.set(Y(),{month:S.value(G-1),year:te.value(G-1)}),1);ae(G,s.getMonth(re),s.getYear(re))}},M=()=>{if(Array.isArray(i.value)&&i.value.length===2){const h=Y(Y(i.value[1]?i.value[1]:s.addMonths(i.value[0],1))),[G,re]=[s.getMonth(i.value[0]),s.getYear(i.value[0])],[P,ne]=[s.getMonth(i.value[1]),s.getYear(i.value[1])];(G!==P||G===P&&re!==ne)&&N.value.solo&&ae(1,s.getMonth(h),s.getYear(h))}else i.value&&!Array.isArray(i.value)&&(ae(0,s.getMonth(i.value),s.getYear(i.value)),d(Y()))},H=()=>{t.startDate&&(ae(0,s.getMonth(Y(t.startDate)),s.getYear(Y(t.startDate))),N.value.count&&l(0))},u=(h,G)=>{if(t.monthChangeOnScroll){const re=new Date().getTime()-c.value.getTime(),P=Math.abs(h.deltaY);let ne=500;P>1&&(ne=100),P>100&&(ne=0),re>ne&&(c.value=new Date,b(t.monthChangeOnScroll!=="inverse"?-h.deltaY:h.deltaY,G))}},X=(h,G,re=!1)=>{t.monthChangeOnArrows&&t.vertical===re&&F(h,G)},F=(h,G)=>{b(h==="right"?-1:1,G)},m=h=>{if(R.value.markers)return at(h.value,R.value.markers)},Q=(h,G)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[h==0,!0];case"fair":return[h==0||G>h,!0];case"append":return[!1,!1];default:return[!1,!1]}},se=(h,G,re,P)=>{if(t.sixWeeks&&h.length<6){const ne=6-h.length,le=(G.getDay()+7-P)%7,$e=6-(re.getDay()+7-P)%7,[Ke,Ut]=Q(le,$e);for(let He=1;He<=ne;He++)if(Ut?!!(He%2)==Ke:Ke){const mt=h[0].days[0],jt=I(s.addDays(mt.value,-7),s.getMonth(G));h.unshift({days:jt})}else{const mt=h[h.length-1],jt=mt.days[mt.days.length-1],br=I(s.addDays(jt.value,1),s.getMonth(G));h.push({days:br})}}return h},I=(h,G)=>{const re=Y(h),P=[];for(let ne=0;ne<7;ne++){const le=s.addDays(re,ne),Pe=s.getMonth(le)!==G;P.push({text:t.hideOffsetDates&&Pe?"":le.getDate(),value:le,current:!Pe,classData:{}})}return P},$=(h,G)=>{const re=[],P=new Date(G,h),ne=new Date(G,h+1,0),le=t.weekStart,Pe=s.startOfWeek(P,{weekStartsOn:le}),$e=Ke=>{const Ut=I(Ke,h);if(re.push({days:Ut}),!re[re.length-1].days.some(He=>ie(ke(He.value),ke(ne)))){const He=s.addDays(Ke,7);$e(He)}};return $e(Pe),se(re,P,ne,le)},W=h=>{const G=Ne(Y(h.value),w.hours,w.minutes,et());n("date-update",G),t.multiDates?Vt(G,i,t.multiDatesLimit):i.value=G,r(),e.nextTick().then(()=>{_()})},oe=h=>C.value.noDisabledRange?nn(a.value[0],h).some(re=>y(re)):!1,ue=()=>{a.value=i.value?i.value.slice():[],a.value.length===2&&!(C.value.fixedStart||C.value.fixedEnd)&&(a.value=[])},U=(h,G)=>{const re=[Y(h.value),s.addDays(Y(h.value),+C.value.autoRange)];x(re)?(G&&Ce(h.value),a.value=re):n("invalid-date",h.value)},Ce=h=>{const G=s.getMonth(Y(h)),re=s.getYear(Y(h));if(ae(0,G,re),N.value.count>0)for(let P=1;P<N.value.count;P++){const ne=En(s.set(Y(h),{year:S.value(P-1),month:te.value(P-1)}));ae(P,ne.month,ne.year)}},we=h=>{if(oe(h.value)||!T(h.value,i.value,C.value.fixedStart?0:1))return n("invalid-date",h.value);a.value=gn(Y(h.value),i,n,C)},dt=(h,G)=>{if(ue(),C.value.autoRange)return U(h,G);if(C.value.fixedStart||C.value.fixedEnd)return we(h);a.value[0]?T(Y(h.value),i.value)&&!oe(h.value)?fe(Y(h.value),Y(a.value[0]))?(a.value.unshift(Y(h.value)),n("range-end",a.value[0])):(a.value[1]=Y(h.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",h.value),n("invalid-date",h.value)):(a.value[0]=Y(h.value),n("range-start",a.value[0]))},et=(h=!0)=>t.enableSeconds?Array.isArray(w.seconds)?h?w.seconds[0]:w.seconds[1]:w.seconds:0,tt=h=>{a.value[h]=Ne(a.value[h],w.hours[h],w.minutes[h],et(h!==1))},nt=()=>{var h,G;a.value[0]&&a.value[1]&&+((h=a.value)==null?void 0:h[0])>+((G=a.value)==null?void 0:G[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},ve=()=>{a.value.length&&(a.value[0]&&!a.value[1]?tt(0):(tt(0),tt(1),r()),nt(),i.value=a.value.slice(),ct(a.value,n,t.autoApply,t.modelAuto))},zt=(h,G=!1)=>{if(y(h.value)||!h.current&&t.hideOffsetDates)return n("invalid-date",h.value);if(!C.value.enabled)return W(h);bn(w.hours)&&bn(w.minutes)&&!t.multiDates&&(dt(h,G),ve())},Lt=(h,G)=>{var P;ae(h,G.month,G.year),N.value.count&&!N.value.solo&&l(h),n("update-month-year",{instance:h,month:G.month,year:G.year}),o(N.value.solo?h:void 0);const re=(P=t.flow)!=null&&P.length?t.flow[t.flowStep]:void 0;!G.fromNav&&(re===Be.month||re===Be.year)&&r()},ft=(h,G)=>{pn({value:h,modelValue:i,range:C.value.enabled,timezone:G?void 0:V.value.timezone}),v(),t.multiCalendars&&e.nextTick().then(()=>A(!0))},Kt=()=>{C.value.enabled?i.value&&Array.isArray(i.value)&&i.value[0]?i.value=fe(Y(),i.value[0])?[Y(),i.value[0]]:[i.value[0],Y()]:i.value=[Y()]:i.value=Y(),v()},Ht=()=>{if(Array.isArray(i.value))if(t.multiDates){const h=Wt();i.value[i.value.length-1]=E(h)}else i.value=i.value.map((h,G)=>h&&E(h,G));else i.value=E(i.value);n("time-update")},Wt=()=>Array.isArray(i.value)&&i.value.length?i.value[i.value.length-1]:null;return{calendars:p,modelValue:i,month:S,year:te,time:w,disabledTimesConfig:Z,validateTime:j,getCalendarDays:$,getMarker:m,handleScroll:u,handleSwipe:F,handleArrow:X,selectDate:zt,updateMonthYear:Lt,presetDate:ft,selectCurrentDate:Kt,updateTime:(h,G=!0,re=!1)=>{L(h,G,re,Ht)}}},tr={key:0},nr=e.defineComponent({__name:"DatePicker",props:{...Se},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,{calendars:c,month:i,year:p,modelValue:w,time:N,disabledTimesConfig:k,validateTime:C,getCalendarDays:V,getMarker:R,handleArrow:K,handleScroll:y,handleSwipe:x,selectDate:T,updateMonthYear:L,presetDate:E,selectCurrentDate:B,updateTime:D}=er(a,r,ee,O),j=e.useSlots(),{setHoverDate:Z,getDayClassData:S,clearHoverDate:te}=la(w,a),{defaultedMultiCalendars:ae}=de(a),v=e.ref([]),z=e.ref([]),_=e.ref(null),A=be(j,"calendar"),J=be(j,"monthYear"),d=be(j,"timePicker"),f=u=>{a.shadow||r("mount",u)};e.watch(c,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const q=e.computed(()=>u=>V(i.value(u),p.value(u)).map(X=>({...X,days:X.days.map(F=>(F.marker=R(F),F.classData=S(F),F))})));function ee(u){var X;u||u===0?(X=z.value[u])==null||X.triggerTransition(i.value(u),p.value(u)):z.value.forEach((F,m)=>F.triggerTransition(i.value(m),p.value(m)))}function O(){r("update-flow-step")}const g=(u,X=!1)=>{T(u,X),a.spaceConfirm&&r("select-date")};return n({clearHoverDate:te,presetDate:E,selectCurrentDate:B,toggleMonthPicker:(u,X,F=0)=>{var m;(m=v.value[F])==null||m.toggleMonthPicker(u,X)},toggleYearPicker:(u,X,F=0)=>{var m;(m=v.value[F])==null||m.toggleYearPicker(u,X)},toggleTimePicker:(u,X,F)=>{var m;(m=_.value)==null||m.toggleTimePicker(u,X,F)},handleArrow:K,updateMonthYear:L,getSidebarProps:()=>({modelValue:w,month:i,year:p,time:N,updateTime:D,updateMonthYear:L,selectDate:T,presetDate:E})}),(u,X)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ut,{"multi-calendars":e.unref(ae).count,collapse:u.collapse},{default:e.withCtx(({instance:F,index:m})=>[u.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Ua,e.mergeProps({key:0,ref:Q=>{Q&&(v.value[m]=Q)},months:e.unref(Qt)(u.formatLocale,u.locale,u.monthNameFormat),years:e.unref(bt)(u.yearRange,u.reverseYears),month:e.unref(i)(F),year:e.unref(p)(F),instance:F},u.$props,{onMount:X[0]||(X[0]=Q=>f(e.unref(ze).header)),onResetFlow:X[1]||(X[1]=Q=>u.$emit("reset-flow")),onUpdateMonthYear:Q=>e.unref(L)(F,Q),onOverlayClosed:X[2]||(X[2]=Q=>u.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(J),(Q,se)=>({name:Q,fn:e.withCtx(I=>[e.renderSlot(u.$slots,Q,e.normalizeProps(e.guardReactiveProps(I)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(Fa,e.mergeProps({ref:Q=>{Q&&(z.value[m]=Q)},"mapped-dates":q.value(F),month:e.unref(i)(F),year:e.unref(p)(F),instance:F},u.$props,{onSelectDate:Q=>e.unref(T)(Q,F!==1),onHandleSpace:Q=>g(Q,F!==1),onSetHoverDate:X[3]||(X[3]=Q=>e.unref(Z)(Q)),onHandleScroll:Q=>e.unref(y)(Q,F),onHandleSwipe:Q=>e.unref(x)(Q,F),onMount:X[4]||(X[4]=Q=>f(e.unref(ze).calendar)),onResetFlow:X[5]||(X[5]=Q=>u.$emit("reset-flow")),onTooltipOpen:X[6]||(X[6]=Q=>u.$emit("tooltip-open",Q)),onTooltipClose:X[7]||(X[7]=Q=>u.$emit("tooltip-close",Q))}),e.createSlots({_:2},[e.renderList(e.unref(A),(Q,se)=>({name:Q,fn:e.withCtx(I=>[e.renderSlot(u.$slots,Q,e.normalizeProps(e.guardReactiveProps({...I})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),u.enableTimePicker?(e.openBlock(),e.createElementBlock("div",tr,[u.$slots["time-picker"]?e.renderSlot(u.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(N),updateTime:e.unref(D)}))):(e.openBlock(),e.createBlock(hn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:_},u.$props,{hours:e.unref(N).hours,minutes:e.unref(N).minutes,seconds:e.unref(N).seconds,"internal-model-value":u.internalModelValue,"disabled-times-config":e.unref(k),"validate-time":e.unref(C),onMount:X[8]||(X[8]=F=>f(e.unref(ze).timePicker)),"onUpdate:hours":X[9]||(X[9]=F=>e.unref(D)(F)),"onUpdate:minutes":X[10]||(X[10]=F=>e.unref(D)(F,!1)),"onUpdate:seconds":X[11]||(X[11]=F=>e.unref(D)(F,!1,!0)),onResetFlow:X[12]||(X[12]=F=>u.$emit("reset-flow")),onOverlayClosed:X[13]||(X[13]=F=>u.$emit("time-picker-close")),onOverlayOpened:X[14]||(X[14]=F=>u.$emit("time-picker-open",F)),onAmPmChange:X[15]||(X[15]=F=>u.$emit("am-pm-change",F))}),e.createSlots({_:2},[e.renderList(e.unref(d),(F,m)=>({name:F,fn:e.withCtx(Q=>[e.renderSlot(u.$slots,F,e.normalizeProps(e.guardReactiveProps(Q)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),ar=(t,n)=>{const o=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:c,defaultedRange:i,propDates:p}=de(t),{modelValue:w,year:N,month:k,calendars:C}=Je(t,n),{isDisabled:V}=Le(t),{selectYear:R,groupedYears:K,showYearPicker:y,isDisabled:x,toggleYearPicker:T,handleYearSelect:L,handleYear:E}=yn({modelValue:w,multiCalendars:r,highlight:c,calendars:C,propDates:p,month:k,year:N,props:t,emit:n}),B=(_,A)=>[_,A].map(J=>s.format(J,"MMMM",{locale:t.formatLocale})).join("-"),D=e.computed(()=>_=>w.value?Array.isArray(w.value)?w.value.some(A=>s.isSameQuarter(_,A)):s.isSameQuarter(w.value,_):!1),j=_=>{if(i.value.enabled){if(Array.isArray(w.value)){const A=ie(_,w.value[0])||ie(_,w.value[1]);return rt(w.value,o.value,_)&&!A}return!1}return!1},Z=e.computed(()=>_=>{const A=s.set(new Date,{year:N.value(_)});return s.eachQuarterOfInterval({start:s.startOfYear(A),end:s.endOfYear(A)}).map(J=>{const d=s.startOfQuarter(J),f=s.endOfQuarter(J),q=V(J),ee=j(d),O=typeof c.value=="function"?c.value({quarter:s.getQuarter(d),year:s.getYear(d)}):!!c.value.quarters.find(g=>g.quarter===s.getQuarter(d)&&g.year===s.getYear(d));return{text:B(d,f),value:d,active:D.value(d),highlighted:O,disabled:q,isBetween:ee}})}),S=_=>{Vt(_,w,t.multiDatesLimit),n("auto-apply",!0)},te=_=>{const A=Yt(w,_,n);ct(A,n,t.autoApply,t.modelAuto)},ae=_=>{w.value=_,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:K,year:N,isDisabled:x,quarters:Z,showYearPicker:y,modelValue:w,setHoverDate:_=>{o.value=_},selectYear:R,selectQuarter:(_,A,J)=>{if(!J)return C.value[A].month=s.getMonth(s.endOfQuarter(_)),t.multiDates?S(_):i.value.enabled?te(_):ae(_)},toggleYearPicker:T,handleYearSelect:L,handleYear:E}},rr={class:"dp--quarter-items"},lr=["disabled","onClick","onMouseover"],or=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Se},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.useSlots(),i=be(c,"yearMode"),{defaultedMultiCalendars:p,defaultedConfig:w,groupedYears:N,year:k,isDisabled:C,quarters:V,modelValue:R,showYearPicker:K,setHoverDate:y,selectQuarter:x,toggleYearPicker:T,handleYearSelect:L,handleYear:E}=ar(a,r);return n({getSidebarProps:()=>({modelValue:R,year:k,selectQuarter:x,handleYearSelect:L,handleYear:E})}),(D,j)=>(e.openBlock(),e.createBlock(ut,{"multi-calendars":e.unref(p).count,collapse:D.collapse,stretch:""},{default:e.withCtx(({instance:Z})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(w).modeHeight}px`})},[e.createElementVNode("div",null,[e.createVNode(mn,e.mergeProps(D.$props,{items:e.unref(N)(Z),instance:Z,"show-year-picker":e.unref(K)[Z],year:e.unref(k)(Z),"is-disabled":S=>e.unref(C)(Z,S),onHandleYear:S=>e.unref(E)(Z,S),onYearSelect:S=>e.unref(L)(S,Z),onToggleYearPicker:S=>e.unref(T)(Z,S==null?void 0:S.flow,S==null?void 0:S.show)}),e.createSlots({_:2},[e.renderList(e.unref(i),(S,te)=>({name:S,fn:e.withCtx(ae=>[e.renderSlot(D.$slots,S,e.normalizeProps(e.guardReactiveProps(ae)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",rr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(V)(Z),(S,te)=>(e.openBlock(),e.createElementBlock("div",{key:te},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),disabled:S.disabled,onClick:ae=>e.unref(x)(S.value,Z,S.disabled),onMouseover:ae=>e.unref(y)(S.value)},[D.$slots.quarter?e.renderSlot(D.$slots,"quarter",{key:0,value:S.value,text:S.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(S.text),1)],64))],42,lr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),sr=["id"],ir={key:0,class:"dp--menu-load-container"},ur=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],cr={key:0,class:"dp__sidebar_left"},dr=["onClick","onKeydown"],fr={key:2,class:"dp__sidebar_right"},mr={key:3,class:"dp__action_extra"},wn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...it,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.ref(null),i=e.computed(()=>{const{openOnTop:$,...W}=a;return{...W,flowStep:S.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:c.value}}),{setMenuFocused:p,setShiftKey:w,control:N}=un(),k=e.useSlots(),{defaultedTextInput:C,defaultedInline:V,defaultedConfig:R}=de(a),K=e.ref(null),y=e.ref(0),x=e.ref(null),T=e.ref(!1),L=e.ref(null);e.onMounted(()=>{if(!a.shadow){T.value=!0,E(),window.addEventListener("resize",E);const $=ge(c);if($&&!C.value.enabled&&!V.value.enabled&&(p(!0),_()),$){const W=oe=>{R.value.allowPreventDefault&&oe.preventDefault(),Re(oe,R.value,!0)};$.addEventListener("pointerdown",W),$.addEventListener("mousedown",W)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",E)});const E=()=>{const $=ge(x);$&&(y.value=$.getBoundingClientRect().width)},{arrowRight:B,arrowLeft:D,arrowDown:j,arrowUp:Z}=_e(),{flowStep:S,updateFlowStep:te,childMount:ae,resetFlow:v}=oa(a,r,L),z=e.computed(()=>a.monthPicker?Ma:a.yearPicker?Sa:a.timePicker?Ka:a.quarterPicker?or:nr),_=()=>{const $=ge(c);$&&$.focus({preventScroll:!0})},A=e.computed(()=>{var $;return(($=L.value)==null?void 0:$.getSidebarProps())||{}}),J=()=>{a.openOnTop&&r("recalculate-position")},d=be(k,"action"),f=e.computed(()=>a.monthPicker||a.yearPicker?be(k,"monthYear"):a.timePicker?be(k,"timePicker"):be(k,"shared")),q=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ee=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),O=e.computed(()=>({dp__menu:!0,dp__menu_index:!V.value.enabled,dp__relative:V.value.enabled,[a.menuClassName]:!!a.menuClassName})),g=$=>{Re($,R.value,!0)},b=()=>{a.escClose&&r("close-picker")},l=$=>{if(a.arrowNavigation){if($==="up")return Z();if($==="down")return j();if($==="left")return D();if($==="right")return B()}else $==="left"||$==="up"?F("handleArrow","left",0,$==="up"):F("handleArrow","right",0,$==="down")},M=$=>{w($.shiftKey),!a.disableMonthYearSelect&&$.code==="Tab"&&$.target.classList.contains("dp__menu")&&N.value.shiftKeyInMenu&&($.preventDefault(),Re($,R.value,!0),r("close-picker"))},H=()=>{_(),r("time-picker-close")},u=$=>{var W,oe,ue;(W=L.value)==null||W.toggleTimePicker(!1,!1),(oe=L.value)==null||oe.toggleMonthPicker(!1,!1,$),(ue=L.value)==null||ue.toggleYearPicker(!1,!1,$)},X=($,W=0)=>{var oe,ue,U;return $==="month"?(oe=L.value)==null?void 0:oe.toggleMonthPicker(!1,!0,W):$==="year"?(ue=L.value)==null?void 0:ue.toggleYearPicker(!1,!0,W):$==="time"?(U=L.value)==null?void 0:U.toggleTimePicker(!0,!1):u(W)},F=($,...W)=>{var oe,ue;(oe=L.value)!=null&&oe[$]&&((ue=L.value)==null||ue[$](...W))},m=()=>{F("selectCurrentDate")},Q=($,W)=>{F("presetDate",$,W)},se=()=>{F("clearHoverDate")};return n({updateMonthYear:($,W)=>{F("updateMonthYear",$,W)},switchView:X}),($,W)=>{var oe,ue;return e.openBlock(),e.createElementBlock("div",{id:$.uid?`dp-menu-${$.uid}`:void 0,ref_key:"dpMenuRef",ref:c,tabindex:"0",role:"dialog",class:e.normalizeClass(O.value),onMouseleave:se,onClick:g,onKeydown:[e.withKeys(b,["esc"]),W[18]||(W[18]=e.withKeys(e.withModifiers(U=>l("left"),["prevent"]),["left"])),W[19]||(W[19]=e.withKeys(e.withModifiers(U=>l("up"),["prevent"]),["up"])),W[20]||(W[20]=e.withKeys(e.withModifiers(U=>l("down"),["prevent"]),["down"])),W[21]||(W[21]=e.withKeys(e.withModifiers(U=>l("right"),["prevent"]),["right"])),M]},[($.disabled||$.readonly)&&e.unref(V).enabled||$.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(ee.value)},[$.loading?(e.openBlock(),e.createElementBlock("div",ir,ur)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(V).enabled&&!$.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(q.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:x,class:e.normalizeClass({dp__menu_content_wrapper:((oe=$.presetDates)==null?void 0:oe.length)||!!$.$slots["left-sidebar"]||!!$.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&((ue=$.presetDates)==null?void 0:ue.length)||!!$.$slots["left-sidebar"]||!!$.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${y.value}px`})},[$.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",cr,[e.renderSlot($.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(A.value)))])):e.createCommentVNode("",!0),$.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.presetDates,(U,Ce)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:Ce},[U.slot?e.renderSlot($.$slots,U.slot,{key:0,presetDate:Q,label:U.label,value:U.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(U.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),onClick:e.withModifiers(we=>Q(U.value,U.noTz),["prevent"]),onKeydown:[e.withKeys(e.withModifiers(we=>Q(U.value,U.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(we=>Q(U.value,U.noTz),["prevent"]),["space"])]},e.toDisplayString(U.label),47,dr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:K,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(z.value),e.mergeProps({ref_key:"dynCmpRef",ref:L},i.value,{"flow-step":e.unref(S),onMount:e.unref(ae),onUpdateFlowStep:e.unref(te),onResetFlow:e.unref(v),onFocusMenu:_,onSelectDate:W[0]||(W[0]=U=>$.$emit("select-date")),onDateUpdate:W[1]||(W[1]=U=>$.$emit("date-update",U)),onTooltipOpen:W[2]||(W[2]=U=>$.$emit("tooltip-open",U)),onTooltipClose:W[3]||(W[3]=U=>$.$emit("tooltip-close",U)),onAutoApply:W[4]||(W[4]=U=>$.$emit("auto-apply",U)),onRangeStart:W[5]||(W[5]=U=>$.$emit("range-start",U)),onRangeEnd:W[6]||(W[6]=U=>$.$emit("range-end",U)),onInvalidFixedRange:W[7]||(W[7]=U=>$.$emit("invalid-fixed-range",U)),onTimeUpdate:W[8]||(W[8]=U=>$.$emit("time-update")),onAmPmChange:W[9]||(W[9]=U=>$.$emit("am-pm-change",U)),onTimePickerOpen:W[10]||(W[10]=U=>$.$emit("time-picker-open",U)),onTimePickerClose:H,onRecalculatePosition:J,onUpdateMonthYear:W[11]||(W[11]=U=>$.$emit("update-month-year",U)),onAutoApplyInvalid:W[12]||(W[12]=U=>$.$emit("auto-apply-invalid",U)),onInvalidDate:W[13]||(W[13]=U=>$.$emit("invalid-date",U)),"onUpdate:internalModelValue":W[14]||(W[14]=U=>$.$emit("update:internal-model-value",U))}),e.createSlots({_:2},[e.renderList(f.value,(U,Ce)=>({name:U,fn:e.withCtx(we=>[e.renderSlot($.$slots,U,e.normalizeProps(e.guardReactiveProps({...we})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),$.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",fr,[e.renderSlot($.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(A.value)))])):e.createCommentVNode("",!0),$.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",mr,[$.$slots["action-extra"]?e.renderSlot($.$slots,"action-extra",{key:0,selectCurrentDate:m}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!$.autoApply||e.unref(R).keepActionRow?(e.openBlock(),e.createBlock(ma,e.mergeProps({key:2,"menu-mount":T.value},i.value,{"calendar-width":y.value,onClosePicker:W[15]||(W[15]=U=>$.$emit("close-picker")),onSelectDate:W[16]||(W[16]=U=>$.$emit("select-date")),onInvalidSelect:W[17]||(W[17]=U=>$.$emit("invalid-select")),onSelectNow:m}),e.createSlots({_:2},[e.renderList(e.unref(d),(U,Ce)=>({name:U,fn:e.withCtx(we=>[e.renderSlot($.$slots,U,e.normalizeProps(e.guardReactiveProps({...we})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,sr)}}}),pr=typeof window<"u"?window:void 0,Ot=()=>{},gr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,yr=(t,n,o,r)=>{if(!t)return Ot;let a=Ot;const c=e.watch(()=>e.unref(t),p=>{a(),p&&(p.addEventListener(n,o,r),a=()=>{p.removeEventListener(n,o,r),a=Ot})},{immediate:!0,flush:"post"}),i=()=>{c(),a()};return gr(i),i},hr=(t,n,o,r={})=>{const{window:a=pr,event:c="pointerdown"}=r;return a?yr(a,c,p=>{const w=ge(t),N=ge(n);!w||!N||w===p.target||p.composedPath().includes(w)||p.composedPath().includes(N)||o(p)},{passive:!0}):void 0},kr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...it},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.useSlots(),i=e.ref(!1),p=e.toRef(a,"modelValue"),w=e.toRef(a,"timezone"),N=e.ref(null),k=e.ref(null),C=e.ref(null),V=e.ref(!1),R=e.ref(null),K=e.ref(!1),y=e.ref(!1),x=e.ref(!1),{setMenuFocused:T,setShiftKey:L}=un(),{clearArrowNav:E}=_e(),{validateDate:B,isValidTime:D}=Le(a),{defaultedTransitions:j,defaultedTextInput:Z,defaultedInline:S,defaultedConfig:te,defaultedRange:ae}=de(a),{menuTransition:v,showTransition:z}=Xe(j);e.onMounted(()=>{l(a.modelValue),e.nextTick().then(()=>{if(!S.value.enabled){const P=ee(R.value);P==null||P.addEventListener("scroll",I),window==null||window.addEventListener("resize",$)}}),S.value.enabled&&(i.value=!0),window==null||window.addEventListener("keyup",W),window==null||window.addEventListener("keydown",oe)}),e.onUnmounted(()=>{if(!S.value.enabled){const P=ee(R.value);P==null||P.removeEventListener("scroll",I),window==null||window.removeEventListener("resize",$)}window==null||window.removeEventListener("keyup",W),window==null||window.removeEventListener("keydown",oe)});const _=be(c,"all",a.presetDates),A=be(c,"input");e.watch([p,w],()=>{l(p.value)},{deep:!0});const{openOnTop:J,menuStyle:d,xCorrect:f,setMenuPosition:q,getScrollableParent:ee,shadowRender:O}=na({menuRef:N,menuRefInner:k,inputRef:C,pickerWrapperRef:R,inline:S,emit:r,props:a,slots:c}),{inputValue:g,internalModelValue:b,parseExternalModelValue:l,emitModelValue:M,formatInputValue:H,checkBeforeEmit:u}=ea(r,a,V),X=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:S.value.enabled,"dp--flex-display-collapsed":x.value,dp__flex_display_with_input:S.value.input})),F=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),m=e.computed(()=>({to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||S.value.enabled})),Q=e.computed(()=>({class:"dp__outer_menu_wrap"})),se=e.computed(()=>S.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),I=()=>{i.value&&(te.value.closeOnScroll?ve():q())},$=()=>{var ne;i.value&&q();const P=(ne=k.value)==null?void 0:ne.$el.getBoundingClientRect().width;x.value=document.body.offsetWidth<=P},W=P=>{P.key==="Tab"&&!S.value.enabled&&!a.teleport&&te.value.tabOutClosesMenu&&(R.value.contains(document.activeElement)||ve()),y.value=P.shiftKey},oe=P=>{y.value=P.shiftKey},ue=()=>{!a.disabled&&!a.readonly&&(O(wn,a),q(!1),i.value=!0,i.value&&r("open"),i.value||nt(),l(a.modelValue))},U=()=>{var P;g.value="",nt(),(P=C.value)==null||P.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),te.value.closeOnClearValue&&ve()},Ce=()=>{const P=b.value;return!P||!Array.isArray(P)&&B(P)?!0:Array.isArray(P)?a.multiDates||P.length===2&&B(P[0])&&B(P[1])?!0:ae.value.partialRange&&!a.timePicker?B(P[0]):!1:!1},we=()=>{u()&&Ce()?(M(),ve()):r("invalid-select",b.value)},dt=P=>{et(),M(),te.value.closeOnAutoApply&&!P&&ve()},et=()=>{C.value&&Z.value.enabled&&C.value.setParsedDate(b.value)},tt=(P=!1)=>{a.autoApply&&D(b.value)&&Ce()&&(ae.value.enabled&&Array.isArray(b.value)?(ae.value.partialRange||b.value.length===2)&&dt(P):dt(P))},nt=()=>{Z.value.enabled||(b.value=null)},ve=()=>{S.value.enabled||(i.value&&(i.value=!1,f.value=!1,T(!1),L(!1),E(),r("closed"),g.value&&l(p.value)),nt(),r("blur"))},zt=(P,ne,le=!1)=>{if(!P){b.value=null;return}const Pe=Array.isArray(P)?!P.some(Ke=>!B(Ke)):B(P),$e=D(P);Pe&&$e&&(b.value=P,ne&&(K.value=le,we(),r("text-submit")))},Lt=()=>{a.autoApply&&D(b.value)&&M(),et()},ft=()=>i.value?ve():ue(),Kt=P=>{b.value=P},Ht=()=>{Z.value.enabled&&(V.value=!0,H()),r("focus")},Wt=()=>{if(Z.value.enabled&&(V.value=!1,l(a.modelValue),K.value)){const P=An(R.value,y.value);P==null||P.focus()}r("blur")},vn=P=>{k.value&&k.value.updateMonthYear(0,{month:Xt(P.month),year:Xt(P.year)})},h=P=>{l(P??a.modelValue)},G=(P,ne)=>{var le;(le=k.value)==null||le.switchView(P,ne)},re=P=>te.value.onClickOutside?te.value.onClickOutside(P):ve();return hr(N,C,()=>re(Ce)),n({closeMenu:ve,selectDate:we,clearValue:U,openMenu:ue,onScroll:I,formatInputValue:H,updateInternalModelValue:Kt,setMonthYear:vn,parseModel:h,switchView:G,toggleMenu:ft}),(P,ne)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:R,class:e.normalizeClass(X.value),"data-datepicker-instance":""},[e.createVNode(ca,e.mergeProps({ref_key:"inputRef",ref:C,"input-value":e.unref(g),"onUpdate:inputValue":ne[0]||(ne[0]=le=>e.isRef(g)?g.value=le:null),"is-menu-open":i.value},P.$props,{onClear:U,onOpen:ue,onSetInputDate:zt,onSetEmptyDate:e.unref(M),onSelectDate:we,onToggle:ft,onClose:ve,onFocus:Ht,onBlur:Wt,onRealBlur:ne[1]||(ne[1]=le=>V.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(A),(le,Pe)=>({name:le,fn:e.withCtx($e=>[e.renderSlot(P.$slots,le,e.normalizeProps(e.guardReactiveProps($e)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),e.createVNode(e.Teleport,e.normalizeProps(e.guardReactiveProps(m.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(v)(e.unref(J)),css:e.unref(z)&&!e.unref(S).enabled},{default:e.withCtx(()=>[i.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:N},Q.value,{class:{"dp--menu-wrapper":!e.unref(S).enabled},style:e.unref(S).enabled?void 0:e.unref(d)}),[e.createVNode(wn,e.mergeProps({ref_key:"dpMenuRef",ref:k},P.$props,{"internal-model-value":e.unref(b),"onUpdate:internalModelValue":ne[2]||(ne[2]=le=>e.isRef(b)?b.value=le:null),class:{[F.value]:!0,"dp--menu-wrapper":P.teleport},"open-on-top":e.unref(J),"no-overlay-focus":se.value,collapse:x.value,onClosePicker:ve,onSelectDate:we,onAutoApply:tt,onTimeUpdate:Lt,onFlowStep:ne[3]||(ne[3]=le=>P.$emit("flow-step",le)),onUpdateMonthYear:ne[4]||(ne[4]=le=>P.$emit("update-month-year",le)),onInvalidSelect:ne[5]||(ne[5]=le=>P.$emit("invalid-select",e.unref(b))),onAutoApplyInvalid:ne[6]||(ne[6]=le=>P.$emit("invalid-select",le)),onInvalidFixedRange:ne[7]||(ne[7]=le=>P.$emit("invalid-fixed-range",le)),onRecalculatePosition:e.unref(q),onTooltipOpen:ne[8]||(ne[8]=le=>P.$emit("tooltip-open",le)),onTooltipClose:ne[9]||(ne[9]=le=>P.$emit("tooltip-close",le)),onTimePickerOpen:ne[10]||(ne[10]=le=>P.$emit("time-picker-open",le)),onTimePickerClose:ne[11]||(ne[11]=le=>P.$emit("time-picker-close",le)),onAmPmChange:ne[12]||(ne[12]=le=>P.$emit("am-pm-change",le)),onRangeStart:ne[13]||(ne[13]=le=>P.$emit("range-start",le)),onRangeEnd:ne[14]||(ne[14]=le=>P.$emit("range-end",le)),onDateUpdate:ne[15]||(ne[15]=le=>P.$emit("date-update",le)),onInvalidDate:ne[16]||(ne[16]=le=>P.$emit("invalid-date",le))}),e.createSlots({_:2},[e.renderList(e.unref(_),(le,Pe)=>({name:le,fn:e.withCtx($e=>[e.renderSlot(P.$slots,le,e.normalizeProps(e.guardReactiveProps({...$e})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),It=(()=>{const t=kr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(It[t]=n)}),It});
